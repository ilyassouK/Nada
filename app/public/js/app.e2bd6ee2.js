(function(t){function e(e){for(var a,r,o=e[0],c=e[1],n=e[2],m=0,u=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&u.push(l[r][0]),l[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(u.length)u.shift()();return i.push.apply(i,n||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==l[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},l={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var n=0;n<o.length;n++)e(o[n]);var d=c;i.push([1,"chunk-vendors"]),s()})({0:function(t,e){},"0452":function(t,e,s){"use strict";s("62da")},"0607":function(t,e,s){},"0866":function(t,e,s){"use strict";s("a0d2")},"0fc6":function(t,e,s){},1:function(t,e,s){t.exports=s("56d7")},"19b4":function(t,e,s){},2:function(t,e){},"208f":function(t,e,s){},3:function(t,e){},"356c":function(t,e,s){"use strict";s("0607")},"3cfc":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function l(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}l.keys=function(){return Object.keys(a)},l.resolve=i,t.exports=l,l.id="4678"},"4d0b":function(t,e,s){"use strict";s("9519")},"4dcb":function(t,e,s){"use strict";s("784a")},"52b6":function(t,e,s){t.exports=s.p+"img/footer.295cad61.png"},"53b6":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("ab8b"),s("7b17");var a=s("cee4"),l=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-view")},r=[],o=(s("4d0b"),s("2877")),c={},n=Object(o["a"])(c,i,r,!1,null,null,null),d=n.exports,m=s("8c4f"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[this.$mainStore().loading?[s("div")]:[this.$mainStore().authentificated?s("Home"):s("LogIn")]],2)},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex"},[a("div",{staticClass:"col-md-4 col-lg-2 sm-md-position-absolute"},[a("div",{class:["col-12 col-md-4 col-lg-2 aside-bar b-color-0",t.displaySidebarOnMobile?"aside-hide":"hideSidebar aside-show"],on:{click:t.toggleDisplay}},[a("div",{staticClass:"pb-5 pt-4 overflow-scroll h-100"},[a("div",{staticClass:"logo text-center"},[a("router-link",{attrs:{to:{name:"Index"}}},[a("img",{staticClass:"img-fluid",attrs:{src:s("cf05"),width:"120",alt:"logo"}})]),t._m(0)],1),a("div",{staticClass:"mt-5"},[a("ul",{staticClass:"list-unstyled routes text-center justify-content-between h-75"},[a("router-link",{staticClass:"d-block mt-4 f-color-3",attrs:{to:{name:"Items"}}},[a("i",{staticClass:"icon fad fa-layer-group"}),a("small",{staticClass:"d-block"},[t._v("الأصناف")])]),"employee"==t.$accountStore().data.userType?a("router-link",{staticClass:"d-block mt-4 f-color-3",attrs:{to:{name:"AccountTransactions",params:{id:t.$accountStore().data.id}}}},[a("i",{staticClass:"icon fad fa-vote-yea"}),a("small",{staticClass:"d-block"},[t._v("العُهد")])]):t._e(),"employee"!==t.$accountStore().data.userType?a("router-link",{staticClass:"d-block mt-4 f-color-3",attrs:{to:"/users"}},[a("i",{staticClass:"icon fad fa-user-hard-hat"}),a("small",{staticClass:"d-block"},[t._v("المستخدمين")])]):t._e(),"employee"!==t.$accountStore().data.userType?a("router-link",{staticClass:"d-block mt-4 f-color-3",attrs:{to:"/clients"}},[a("i",{staticClass:"icon fad fa-store"}),a("small",{staticClass:"d-block"},[t._v("المحلات")])]):t._e(),a("router-link",{staticClass:"d-block mt-4 f-color-3",attrs:{to:{name:"EditMyAccount",params:{id:t.$accountStore().data.id}}}},[a("i",{staticClass:"icon fad fa-user-edit"}),a("small",{staticClass:"d-block"},[t._v("حسابي")])]),"admin"==t.$accountStore().data.userType?a("router-link",{staticClass:"d-block mt-4 f-color-3",attrs:{to:"/settings"}},[a("i",{staticClass:"icon fas fa-cog"}),a("small",{staticClass:"d-block"},[t._v("إعدادات")])]):t._e(),a("a",{staticClass:"logout d-block mt-4 f-color-3",on:{click:function(e){return t.logOut()}}},[a("i",{staticClass:"icon fad fa-power-off"}),a("small",{staticClass:"d-block"},[t._v("تسجيل الخروج")])])],1)]),a("MadeBy",{staticClass:"d-none"})],1)])]),a("div",{staticClass:"col container overflow-hidden"},["employee"==t.$accountStore().data.userType?a("div",{staticClass:"text-align-end mt-4"},[t._m(1),a("ScanProduct")],1):t._e(),a("router-view")],1)])},v=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-4 f-color-1"},[s("span",{staticClass:"fs-7 d-block fw-semibold"},[t._v("نظام ندى المستودعي")]),s("small",{staticClass:"opacity-75"},[t._v("نظام مؤسسة ندى التميز للتجارة")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("small",[s("button",{staticClass:"soft-click px-3",attrs:{"data-bs-toggle":"modal","data-bs-target":"#scanProductModal"}},[t._v("تحضير المنتج "),s("i",{staticClass:"px-2 fal fa-barcode-scan"})])])}],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"scanProductModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"form modal-dialog"},[s("div",{staticClass:"modal-content border-0 overflow-hidden"},[s("div",{staticClass:"form-header p-5 d-flex justify-content-center"},[s("div",{staticClass:"col-12 col-md-8"},[s("span",{ref:"closeModal",staticClass:"close-model-icon",attrs:{"data-bs-dismiss":"modal"},on:{click:function(e){return t.stopScanner()}}},[s("i",{staticClass:"fal fa-times"})]),s("span",{staticClass:"modal-title"},[t._v("تسجيل الحضور")]),s("small",[t._v("بإمكانك تسجيل حضور المنتج, عبر مسح رمز المنتج.")])])]),s("div"),0==t.tab?s("scanner-config",{ref:"scannerConfiguration",on:{"qrcode-detected":t.handleQrCode}}):1==t.tab?s("form",{staticClass:"px-2 px-md-4",on:{submit:function(e){return e.preventDefault(),t.save()}}},[s("div",{staticClass:"mt-4 col-12 text-align-start"},[s("label",[t._v("رقم المنتج")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.productId,expression:"productId"}],staticClass:"form-control",attrs:{type:"text",disabled:"",required:""},domProps:{value:t.productId},on:{input:function(e){e.target.composing||(t.productId=e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 text-align-start"},[s("label",[t._v("حالة المنتج")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"status",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("حدد الحالة")]),t._l(t.$assetsStore().productStatus,(function(e){return s("option",{key:e.id,domProps:{value:e.status}},[t._v(t._s(e.status))])}))],2)]),t.disabledSubmit?t._e():s("div",{staticClass:"mt-4 d-flex justify-content-center gap-2"},[s("button",{ref:"closeModal",staticClass:"soft-click",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("إلغاء")]),s("button",{staticClass:"main-click border-0 py-2 px-3 rounded ",attrs:{disabled:t.loadingBtn,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("حفظ")])])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()]),s("div",{staticClass:"text-center py-3 mt-2"},[s("small",{staticClass:"f-color-1 text-on-hover text-decoration-underline",on:{click:function(e){return t.backToScan()}}},[t._v("إعادة المسح؟")])])]):t._e(),0==t.tab?s("div",{staticClass:"mt-3 py-4 text-center b-color-0"},[s("button",{ref:"closeModal",staticClass:"soft-click mx-4",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:function(e){return t.stopScanner()}}},[t._v("إلغاء")])]):t._e()],1)])])},g=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("div",[s("small",{staticClass:"f-color-1 text-on-hover",staticStyle:{cursor:"pointer"},on:{click:t.startScanner}},[t._v("المسح "),s("i",{staticClass:"px-2 fal fa-barcode-scan"})])]),s("video",{directives:[{name:"show",rawName:"v-show",value:t.openScanCam,expression:"openScanCam"}],ref:"video",staticStyle:{width:"100%","max-height":"350px"}})])},C=[],x=s("224f"),b={data(){return{openScanCam:!1,codeReader:null}},beforeUnmount(){this.closeScanner()},methods:{stopScanner(){this.openScanCam=!1,this.codeReader&&(this.codeReader.reset(),this.codeReader.stopStreams(),this.codeReader=null)},startScanner(){this.openScanCam=!0,this.codeReader=new x["BrowserQRCodeReader"];const t=this.$refs.video;this.codeReader.decodeFromVideoDevice(void 0,t,(t,e)=>{t&&this.$emit("qrcode-detected",t.text),e&&console.error("Error:",e)})}}},y=b,w=Object(o["a"])(y,_,C,!1,null,null,null),$=w.exports,k={components:{ScannerConfig:$},data(){return{loadingBtn:!1,alerts:{success:"",error:""},tab:0,disabledSubmit:!1,form:{status:""},productId:null}},created(){this.$assetsStore().productStatus.length||this.$assetsStore().selectProductStatus()},methods:{handleQrCode(t){this.productId=t,this.tab=1},backToScan(){this.alerts.success="",this.alerts.error="",this.tab=0,this.disabledSubmit=!1},stopScanner(){this.$refs.scannerConfiguration.closeScanner()},save(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0;const t={productId:this.productId,status:this.form.status};this.$axios.post("/api/v1/products/path3",t).then(t=>{if(this.loadingBtn=!1,!t.data.success)return this.alerts.error=t.data.msg;this.alerts.success=t.data.msg,this.disabledSubmit=!0}).catch(t=>(this.loadingBtn=!1,console.log(t)))}}},S=k,j=(s("6e50"),Object(o["a"])(S,h,g,!1,null,null,null)),N=j.exports,P=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},E=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"made mt-5 text-center f-color-3"},[s("small",[t._v("Made With "),s("small",[s("i",{staticClass:"fas fa-heart"})]),t._v(" By")]),s("small",{staticClass:"maker-name",attrs:{title:"kendouciabdelali@gmail.com"}},[t._v(" Ilyes KENDOUCI")])])}],A=(s("84df"),{}),D=Object(o["a"])(A,P,E,!1,null,"4923be33",null),R=D.exports,B={components:{ScanProduct:N,MadeBy:R},data(){return{display:!1,displaySidebarOnMobile:!0}},methods:{toggleDisplay(t){this.displaySidebarOnMobile=!this.displaySidebarOnMobile,(t.target.classList.contains("aside-show")||t.target.classList.contains("aside-hide"))&&(t.target.classList.toggle("aside-show"),t.target.classList.toggle("aside-hide"))},logOut(){localStorage.removeItem("nadaAtamayuzToken"),location.reload()}}},O=B,I=(s("76d6"),Object(o["a"])(O,f,v,!1,null,null,null)),q=I.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login d-flex justify-content-center align-items-center"},[s("div",{staticClass:"radius overflow-hidden col-12 col-md-6 col-lg-4"},[t._m(0),s("div",{staticClass:"b-color-1 py-4 px-4"},[s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[s("div",{staticClass:"col-12 text-align-start"},[s("label",[t._v("إسم المستخدم")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],class:[t.invalidUsername?"is-invalid":"","form-control opacity-50"],attrs:{type:"text",placeholder:"ادخل إسم المستخدم",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 text-align-start"},[s("label",[t._v("كلمة المرور")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:[t.invalidPassword?"is-invalid":"","form-control opacity-50"],attrs:{type:"password",placeholder:"أدخل كلمة المرور",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"mt-4 d-flex justify-content-between flex-wrap align-items-center"},[s("small",{staticClass:"f-color-0"},[t._v("هل تود الدخول الى النظام؟")]),s("button",{staticClass:"secondery-btn border-0 py-2 px-4 radius ",attrs:{disabled:t.loadingBtn,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("دخول")])])])]),t.alerts.success||t.alerts.error?s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()]):t._e()])])])])},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"b-color-0 text-center py-4"},[a("img",{staticClass:"img-fluid",attrs:{src:s("cf05"),width:"150",alt:"Logo"}}),a("div",{staticClass:"mt-4"},[a("span",{staticClass:"fs-5 d-block f-color-1 fw-semibold"},[t._v("نظام ندى المستودعي")]),a("small",{staticClass:"f-color-1 opacity-75"},[t._v("نظام مؤسسة ندى التميز للتجارة")])])])}],M={data(){return{loadingBtn:!1,alerts:{success:"",error:""},username:null,password:null,invalidUsername:!1,invalidPassword:!1}},methods:{login(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0,this.invalidUsername=!1,this.invalidPassword=!1;let t={password:this.password,username:this.username},e="/auth/v1/path1";this.$axios.post(e,t).then(t=>{if(!t.data.success)return this.alerts.error=t.data.msg,this.loadingBtn=!1;localStorage.setItem("nadaAtamayuzToken",t.data.token),this.$mainStore().checkAuth(),this.loadingBtn=!1}).catch(t=>(this.loadingBtn=!1,console.log(t),this.alerts.error="Sorry, failed to Login!"))}}},F=M,Y=(s("4dcb"),Object(o["a"])(F,T,U,!1,null,"4b746228",null)),Q=Y.exports,z={components:{Home:q,LogIn:Q},created(){this.$mainStore().checkAuth()}},H=z,L=Object(o["a"])(H,u,p,!1,null,null,null),V=L.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-5 p-lg-2",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticClass:"b-color-0 box-shadow-style mt-0 mt-lg-4 px-3 py-5 px-md-4"},[s("router-view")],1)])},G=[],J={},K=Object(o["a"])(J,W,G,!1,null,null,null),X=K.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex justify-content-between section-header flex-wrap"},[t._m(0),s("div",{staticClass:"d-flex justify-content-between gap-2"},["employee"!=t.$accountStore().data.userType?s("small",[s("router-link",{staticClass:"soft-click py-2 px-3 d-flex align-items-center justify-content-around",attrs:{to:{name:"ProductsDelivery"}}},[s("i",{staticClass:"fad fa-truck-loading px-1"}),t._v("نقل العُهد")])],1):t._e(),"admin"==t.$accountStore().data.userType?s("small",[s("router-link",{staticClass:"main-click py-2 px-3 d-flex align-items-center justify-content-around",attrs:{to:{name:"AddItem"}}},[s("i",{staticClass:"fal fa-plus px-1"}),t._v("صنف جديد")])],1):t._e()])]),s("div",{staticClass:"mt-5 col-12 col-md"},[s("ul",{staticClass:"list-unstyled m-0 d-flex f-color-3_3 gap-5"},["employee"!=t.$accountStore().data.userType?s("li",{class:[t.tabs.warehouse?"f-color-1 active-section-tab":"","section-tab"],on:{click:function(e){t.tabs.observed=!1,t.tabs.warehouse=!0}}},[t._v("المستودع"),t.tabs.warehouse?s("hr",{staticClass:"tab-hr mt-1"}):t._e()]):t._e(),s("li",{class:[t.tabs.observed?"f-color-1 active-section-tab":""," section-tab"],on:{click:function(e){t.tabs.observed=!0,t.tabs.warehouse=!1}}},[t._v("سجل التحضير"),t.tabs.observed?s("hr",{staticClass:"tab-hr mt-1"}):t._e()])])]),t.tabs.observed?s("Observed"):s("Warehouse")],1)},tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-md-8"},[s("span",{staticClass:"section-title"},[t._v("الأصناف")]),s("p",{staticClass:"section-desc"},[t._v("يمكنك الإطلاع هنا على جميع الأصناف المسجلة")])])}],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mt-4 d-flex flex-wrap justify-content-md-between"},[s("div",{staticClass:"col-12 col-lg-5 d-flex flex-wrap justify-content-between gap-2 mt-4 mt-lg-0 order-1 order-lg-0"},[s("div",{staticClass:"col-12 col-md"},[s("div",{staticClass:"d-flex position-relative align-items-center mt-3 mt-md-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchSelect.employeeSelected,expression:"searchSelect.employeeSelected"}],staticClass:"form-control",attrs:{list:"data-list",type:"text",placeholder:"حدد الموظف"},domProps:{value:t.searchSelect.employeeSelected},on:{keyup:function(e){return t.bindToemployee()},input:function(e){e.target.composing||t.$set(t.searchSelect,"employeeSelected",e.target.value)}}}),t._m(0)]),s("datalist",{attrs:{id:"data-list"}},t._l(t.$assetsStore().employees,(function(t){return s("option",{key:t.id,domProps:{value:t.fullName}})})),0)]),s("div",{staticClass:"col-12 col-md"},[s("div",{staticClass:"d-flex position-relative align-items-center mt-3 mt-md-0"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchSelect.citySelected,expression:"searchSelect.citySelected"}],staticClass:"form-control",attrs:{list:"address-list",type:"text",placeholder:"حدد المدينة / المحافظة"},domProps:{value:t.searchSelect.citySelected},on:{keyup:function(e){return t.bindToCity()},input:function(e){e.target.composing||t.$set(t.searchSelect,"citySelected",e.target.value)}}}),t._m(1)]),s("datalist",{attrs:{id:"address-list"}},t._l(t.$assetsStore().cities,(function(t){return s("option",{key:t.id,domProps:{value:t.city}})})),0)])]),s("div",[t.dateRange.from&&t.dateRange.to?s("div",{staticClass:"text-align-end mb-1"},[s("small",{staticClass:"f-color-2 opacity-80 opacity-100-on-hover text-decoration-underline cursor-pointer",on:{click:function(e){t.dateRange.from=t.dateRange.to=null,t.getData()}}},[t._v("مسح الكل")])]):t._e(),s("form",{staticClass:"d-flex flex-wrap justify-content-end justify-content-lg-between"},[s("div",{staticClass:"col-12 col-md d-flex align-items-center"},[s("label",{staticClass:"px-2 f-color-3_1"},[t._v("من")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dateRange.from,expression:"dateRange.from"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.dateRange.from},on:{change:function(e){return t.getDataRange()},input:function(e){e.target.composing||t.$set(t.dateRange,"from",e.target.value)}}})]),s("div",{staticClass:"col-12 col-md d-flex align-items-center mt-2 mt-md-0"},[s("label",{staticClass:"px-2 f-color-3_1"},[t._v("إلى")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.dateRange.to,expression:"dateRange.to"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.dateRange.to},on:{change:function(e){return t.getDataRange()},input:function(e){e.target.composing||t.$set(t.dateRange,"to",e.target.value)}}})])])])]),t.selectedRows.length&&"admin"==t.$accountStore().data.userType?s("div",{staticClass:"mt-2 table-action col-12 col-md-3"},[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("small",{staticClass:"text-decoration-underline text-on-hover f-color-1",on:{click:function(e){return t.deleteRecords()}}},[t._v("حذف "+t._s(t.selectedRows.length)+" سجل؟")])]):t._e(),s("ProductQrCode"),s("button",{ref:"openBarcodeModal",attrs:{hidden:"","data-bs-toggle":"modal","data-bs-target":"#makeBarcode"}}),s("div",{staticClass:"mt-4 b-color-0 box-shadow-style px-md-2 py-3",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticStyle:{"min-width":"62em"}},[s("div",{staticClass:"px-2 table-colums mb-4"},["admin"==t.$accountStore().data.userType?s("small",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{change:function(e){var s=t.selectAll,a=e.target,l=!!a.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);a.checked?r<0&&(t.selectAll=s.concat([i])):r>-1&&(t.selectAll=s.slice(0,r).concat(s.slice(r+1)))}else t.selectAll=l}}})]):t._e(),s("small",{staticClass:"col"},[t._v("المنتج")]),s("small",{staticClass:"col-2"},[t._v("المحل")]),s("small",{staticClass:"col-2"},[t._v("الموظف")]),s("small",{staticClass:"col"},[t._v("تاريخ الإستلام")]),s("small",{staticClass:"col-2"},[t._v("تاريخ التحضير")]),s("small",{staticClass:"col-1"},[t._v("الحالة")]),s("small",{staticClass:"col"},[t._v("الرمز")])]),t._l(t.data,(function(e){return s("div",{key:e.id,staticClass:"table-row py-3"},[s("div",{staticClass:"px-2 d-flex f-color-3"},["admin"==t.$accountStore().data.userType?s("span",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRows,expression:"selectedRows"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selectedRows)?t._i(t.selectedRows,e.id)>-1:t.selectedRows},on:{change:function(s){var a=t.selectedRows,l=s.target,i=!!l.checked;if(Array.isArray(a)){var r=e.id,o=t._i(a,r);l.checked?o<0&&(t.selectedRows=a.concat([r])):o>-1&&(t.selectedRows=a.slice(0,o).concat(a.slice(o+1)))}else t.selectedRows=i}}})]):t._e(),s("span",{staticClass:"col"},[t._v(t._s(e.productId)),s("small",[t._v("("+t._s(e.itemName)+")")])]),s("router-link",{staticClass:"col-2 f-color-1 text-on-hover",attrs:{to:{name:"ClientAccount",params:{id:e.clientId}}}},[t._v(t._s(e.tradeName))]),s("router-link",{staticClass:"col-2 f-color-1 text-on-hover",attrs:{to:{name:"EmployeeAccount",params:{id:e.employeeId}}}},[t._v(t._s(e.employeeName))]),s("span",{staticClass:"col"},[t._v(t._s(t.$assetsStore().moment(e.receiptDate).format("YYYY-MM-DD")))]),s("span",{staticClass:"col-2"},[t._v(t._s(t.$assetsStore().moment(e.observedAt).format("YYYY-MM-DD, HH:mm")))]),s("span",{staticClass:"col-1"},[t._v(t._s(e.status))]),s("span",{staticClass:"col color-1 text-on-hover",on:{click:function(s){t.$qrCodeStore().selectQrCode(e.productId,e),t.$refs.openBarcodeModal.click()}}},[s("i",{staticClass:"fal fa-barcode-scan"})])],1)])})),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-start text-md-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-start text-md-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])],2)]),s("div",{staticClass:"mt-4 pagination d-flex align-items-center"},[s("div",{staticClass:"icon",on:{click:function(e){return t.pagiTransitions("back")}}},[s("i",{staticClass:"fas fa-long-arrow-alt-right"})]),s("div",{staticClass:"page-num mx-3"},[s("small",[t._v(t._s(t.pagination.page))])]),s("div",{class:["icon",t.data.length<t.$mainStore().offsetNum?"prevent-next-pagination":""],on:{click:function(e){!(t.data.length<t.$mainStore().offsetNum)&&t.pagiTransitions("next")}}},[s("i",{staticClass:"fas fa-long-arrow-alt-left"})])]),s("div",{staticClass:"d-flex justify-content-center justify-content-md-end gap-4 flex-wrap align-items-center"},[s("div",{staticClass:"col-12 col-md text-center text-md-start"},[s("small",{staticClass:"f-color-3 px-2"},[t._v("طباعة السجل؟ ")]),t.showPrintBtn?s("div",{staticClass:"d-inline-block"},[s("button",{staticClass:"soft-click px-3 mt-2 mt-md-0 ",attrs:{disabled:t.loadingPdfData},on:{click:function(e){return t.generatePDF()}}},[s("div",[t.loadingPdfData?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("small",[s("i",{staticClass:"fad fa-download px-2"}),t._v(" تحميل")])])]),s("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!0,"paginate-elements-by-height":1400,filename:"سجل التحضير","pdf-quality":2,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"800px"},on:{progress:function(e){return t.onProgress(e)}}},[s("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[s("PdfDoc",{attrs:{id:t.$route.params.id},on:{pdfDataIsReady:function(e){t.loadingPdfData=!1}}})],1)])],1):s("small",{staticClass:"f-color-2 text-on-hover text-decoration-underline",on:{click:function(e){t.showPrintBtn=!0}}},[t._v("نعم")])]),s("div",[t.data.length?s("ExportData",{staticClass:"mt-3 mt-md-0 text-center text-md-start",attrs:{dataUrl:t.apiUrl,columns:t.excel.columns,fileName:t.excel.fileName}}):t._e()],1)])],1)},st=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-icon rounded px-3 py-1"},[s("small",[s("i",{staticClass:"fas fa-search"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-icon rounded px-3 py-1"},[s("small",[s("i",{staticClass:"fas fa-search"})])])}],at=s("6480"),lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"Items"==t.$route.name?s("ObservingRecord",{attrs:{data:t.data}}):"ClientsTransactions"==t.$route.name?s("ClientDoc",{attrs:{data:t.data}}):s("EmployeeDoc",{attrs:{data:t.data}})},it=[],rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.data.length?s("div",t._l(t.pages,(function(e){return s("div",{key:e.id,staticClass:"pdfPage"},[s("Header"),s("div",{staticClass:"page px-4 pb-4"},[t._m(0,!0),t._m(1,!0),s("div",{staticClass:"mt-4"},[s("small",{staticClass:"part-title"},[t._v("بيانات المسلتم:")]),s("div",{staticClass:"mt-3 d-flex justify-content-between"},[s("div",[s("small",[t._v("إسم الموظف:")]),s("small",[t._v(t._s(t.data[0].employeeName.replace(/(\D)(\d)/g,"$1 $2")))])]),s("div",[s("small",[t._v("رقم الهوية:")]),s("small",[t._v(t._s(t.data[0].employeeCivil))])]),s("div",[s("small",[t._v("إسم المستخدم:")]),s("small",[t._v(t._s(t.data[0].username))])])])]),s("div",{staticClass:"mt-4"},[s("small",{staticClass:"part-title"},[t._v("بيانات العهدة:")]),s("div",{staticClass:"mt-3",staticStyle:{"max-height":"15em",overflow:"hidden"}},[t._m(2,!0),s("div",{staticClass:"table-row"},t._l(e,(function(e){return s("div",{key:e.id,staticClass:"d-flex"},[s("small",{staticClass:"col-1 py-1 text-center"},[t._v(t._s(e.itemId))]),s("small",{staticClass:"col-5 py-1 text-center"},[t._v(t._s(e.itemName))]),s("small",{staticClass:"col-1 py-1 text-center"},[t._v(t._s(e.quantity))]),s("small",{staticClass:"col py-1 text-center"},[t._v(t._s(e.unitPrice))]),s("small",{staticClass:"col py-1 text-center"},[t._v(t._s(e.quantity*e.unitPrice))])])})),0)])]),t._m(3,!0),s("div",{staticClass:"mt-3"},[s("hr",{staticClass:"hr"}),t._m(4,!0),s("div",{staticClass:"d-flex justify-content-between"},[t._m(5,!0),s("Seal",{staticClass:"col-3 text-center"})],1),t._m(6,!0),t._m(7,!0)])]),s("Footer")],1)})),0):t._e()},ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("h3",{staticClass:"fw-bold"},[t._v("إستلام عهدة")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-4 d-flex justify-content-between"},[s("div",[t._v("التاريخ: ..../..../....14هـ")]),s("div",[t._v("التاريخ: ..../..../....20م")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table-colums p-0 m-0 text-center",staticStyle:{color:"#000 !important"}},[s("small",{staticClass:"col-1 py-1"},[t._v("الرقم")]),s("small",{staticClass:"col-5 py-1"},[t._v("اسم الصنف")]),s("small",{staticClass:"col-1 py-1"},[t._v("الكمية")]),s("small",{staticClass:"col py-1"},[t._v("سعر الوحدة")]),s("small",{staticClass:"col py-1"},[t._v("السعر الاجمالي")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-4"},[s("hr",{staticClass:"hr"}),s("div",{staticClass:"text-center"},[s("small",{staticClass:"part-title"},[t._v("إقرار:")])]),s("div",{staticClass:"mt-3"},[s("small",[t._v(" أقر أنا الموقع أدناه بأنني استلمت العُهد الموضحة أعلاه في يوم/.................. الموافق......./......../ 2023م في تمام الساعة ..... : ..... ص/م بحالة صالحة للإستخدام ")]),s("small",[s("strong",[t._v(" وأتعهد بالمحافظة عليها وان لا أتنازل عنها لأي شخص آخر وسأقوم بإعادتها عند طلبها أو عند ترك العمل أو دفع قيمة ما تسببت في تلفه وسأكون عرضة للمسائلة في حين مخالفتي للإقرار. ")])])]),s("div",{staticClass:"mt-3 d-flex justify-content-between"},[s("small",{staticClass:"col text-align-start"},[t._v("المسلتم:")]),s("small",{staticClass:"col text-align-start"},[t._v("التوقيع:")])]),s("hr",{staticClass:"hr"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("small",{staticClass:"part-title"},[t._v("خاص بمسؤول التسليم والاستلام:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col"},[s("div",{staticClass:"mt-3 d-flex justify-content-between"},[s("small",{staticClass:"col text-align-start"},[t._v("تم استلام العُهد بحالة التسليم. (.....) نعم")]),s("small",{staticClass:"col text-align-start"},[t._v("(....) لا، للأسباب التالية:")])]),s("div",{staticClass:"mt-3 d-flex flex-column"},[s("small",[t._v("1- ...................................................................................")]),s("small",[t._v("2- ...................................................................................")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3"},[s("small",[t._v("تم استلام العُهد في يوم/......................... الموافق ....../....../2023م في تمام الساعة ........ : .......... ص/م")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3 d-flex justify-content-between"},[s("small",{staticClass:"col text-align-start"},[t._v("المسلتم:")]),s("small",{staticClass:"col text-align-start"},[t._v("التوقيع:")])])}],ct=(s("14d9"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:s("f30a"),height:"150px",width:"100%",alt:"doc's header"}})])}],dt={},mt=Object(o["a"])(dt,ct,nt,!1,null,null,null),ut=mt.exports,pt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:s("bb52"),alt:"nadaSeal",width:"120px"}})])}],vt={},ht=Object(o["a"])(vt,pt,ft,!1,null,null,null),gt=ht.exports,_t=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center position-absolute bottom-0 w-100"},[a("img",{attrs:{src:s("52b6"),height:"50px",width:"100%",alt:"doc's footer"}})])}],xt={},bt=Object(o["a"])(xt,_t,Ct,!1,null,null,null),yt=bt.exports,wt={components:{Header:ut,Seal:gt,Footer:yt},props:["data"],computed:{pages(){const t=5,e=[];let s=0;while(s<this.data.length)e.push(this.data.slice(s,s+t)),s+=t;return e}}},$t=wt,kt=Object(o["a"])($t,rt,ot,!1,null,null,null),St=kt.exports,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.data.length?s("div",t._l(t.pages,(function(e){return s("div",{key:e.id,staticClass:"pdfPage"},[s("Header"),s("div",{staticClass:"page px-4 pb-4"},[t._m(0,!0),s("div",{staticClass:"mt-4 d-flex justify-content-between align-items-center"},[s("div",{staticClass:"col"},[t._m(1,!0),s("div",[s("small",{staticClass:"fw-bold"},[t._v("الطرف الثاني: ")]),s("small",[t._v(t._s(t.data[0].tradeName.replace(/(\D)(\d)/g,"$1 $2")))])])]),s("div",{staticClass:"col"},[s("div",[s("small",{staticClass:"fw-bold"},[t._v("رقم السجل: ")]),s("small",[t._v(t._s(t.data[0].commercialNum))])])])]),s("div",{staticClass:"mt-3"},[s("small",{staticClass:"fw-bold"},[t._v("أقر أنا الطرف الثاني واتعهد بأني استملت:")]),s("div",{staticClass:"mt-3",staticStyle:{"max-height":"15em",overflow:"hidden"}},[t._m(2,!0),s("div",{staticClass:"table-row"},t._l(e,(function(e){return s("div",{key:e.id,staticClass:"d-flex"},[s("small",{staticClass:"col-1 py-1 text-center"},[t._v(t._s(e.itemId))]),s("small",{staticClass:"col-4 py-1 text-center"},[t._v(t._s(e.itemName.replace(/(\D)(\d)/g,"$1 $2")))]),s("small",{staticClass:"col-1 py-1 text-center"},[t._v(t._s(e.quantity))]),s("small",{staticClass:"col py-1 text-center"},[t._v(t._s(e.unitPrice))]),s("small",{staticClass:"col py-1 text-center"},[t._v(t._s(e.quantity*e.unitPrice))]),s("small",{staticClass:"col py-1 text-center"},[t._v(t._s(t.$assetsStore().moment(e.receiptDate).format("YYYY-MM-DD")))])])})),0)])]),t._m(3,!0),s("div",{staticClass:"mt-1 d-flex justify-content-between"},[s("Seal",{staticClass:"col-3 text-start"}),t._m(4,!0)],1)]),s("Footer")],1)})),0):t._e()},Nt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("h3",{staticClass:"fw-bold"},[t._v("عقد / إتفاقية")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("small",{staticClass:"fw-bold"},[t._v("الطرف الاول: ")]),s("small",[t._v("مؤسسة ندى التميز للتجارة")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table-colums p-0 m-0 text-center",staticStyle:{color:"#000 !important"}},[s("small",{staticClass:"col-1 py-1"},[t._v("الصنف")]),s("small",{staticClass:"col-4 py-1"},[t._v("اسم الصنف")]),s("small",{staticClass:"col-1 py-1"},[t._v("الكمية")]),s("small",{staticClass:"col py-1"},[t._v("سعر الوحدة")]),s("small",{staticClass:"col py-1"},[t._v("السعر الاجمالي")]),s("small",{staticClass:"col py-1"},[t._v("تاريخ الإستلام")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-3"},[s("small",{staticClass:"fw-bold"},[t._v("وتنص هذه الاتفاقية على الالتزام بالشروط التالية:")]),s("div",[s("div",[s("small",{staticClass:"fw-bold"},[t._v("أولاً: ")]),s("small",[t._v("أن تستعمل الثلاجة لغرض منتجات ندى التميز للتجارة فقط ولا يجوز له وضع أي منتج آخر على الاطلاق وفي حال عدم التزام الطرف الثاني بهذا البند يحق للطرف الأول ان يسترجع الثلاجة دون اعتراض من الطرف الثاني ودون الرجوع للطرف الأول بأية مطالبة لا حقة مهما كان نوعها.")])]),s("div",[s("small",{staticClass:"fw-bold"},[t._v("ثانياً: ")]),s("small",[t._v("أن يلتزم الطرف الثاني عند عطل الثلاجة اخبار الطرف الاول ليقوم بإصلاحها في الوقت نفسه.")])]),s("div",[s("small",{staticClass:"fw-bold"},[t._v("ثالثاً: ")]),s("small",[t._v("أن يلتزم الطرف الثاني بعدم ممانعة مندوب الطرف الاول بزيارة مكان الثلاجة في مواقع الطرف الثاني ويجب تسهيل مهمتهم وتقديم المساعدة لإتمام عملهم الروتيني. ")])]),s("div",[s("small",{staticClass:"fw-bold"},[t._v("رابعاً: ")]),s("small",[t._v("أن يلتزم الطرف الثاني بعدم تغيير مكان الثلاجة المتفق عليه (حسب الكروكي المرفق).")])]),s("div",[s("small",{staticClass:"fw-bold"},[t._v("خامساً: ")]),s("small",[t._v("في حالة تلف الثلاجة (نتيجة سوء استخدامها او فقدانها) يتحمل الطرف الثاني قيمة مبلغ الثلاجة الموضح أعلاه.")])]),s("div",[s("small",{staticClass:"fw-bold"},[t._v("سادساً: ")]),s("small",[t._v("في حالة تأخر الطرف الثاني في سداد الفواتير المستحقة للطرف الاول يحق للطرف الاول سحب الثلاجة دون أي انذار.")])]),s("div",[s("small",{staticClass:"fw-bold"},[t._v("سابعاً: ")]),s("small",[t._v("يتحمل الطرف الثاني فواتير الكهرباء الناتجة عن استخدام الثلاجة داخل محله.")])]),s("div",[s("small",{staticClass:"fw-bold"}),s("small")]),s("div",[s("small",{staticClass:"fw-bold"},[t._v("ثامناً: ")]),s("small",[t._v("في حالة توقف سحب الدجاج من الطرف الثاني يحق للطرف الاول سحب الثلاجة مباشرة من الموقع كما تعتبر الثلاجة ملك خاص لمؤسسة ندى التميز للتجارة.")])]),s("div",[s("small",{staticClass:"fw-bold"},[t._v("تاسعاً: ")]),s("small",[t._v("يلزم على الطرف الثاني قبل انتهاء تاريخ الدجاج بيومين الاتصال على مندوب الطرف الاول لاستبدال الدجاج او ارجاعه إذا لم يتم الاتصال فأن الطرف الاول خارج المسؤولية التامة.")])]),s("div",{staticClass:"mt-3"},[s("small",{staticClass:"fw-bold"},[t._v("وقد اتفق الطرفان على تنفيذ ما جاء ببنود العقد كل فيما يخصه واعطي نسخة من العقد موقعة الكترونياً من الطرفين للعمل بموجبها نظاما.")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col text-center"},[s("small",{staticClass:"d-block"},[t._v("الطرف الثاني")]),s("div",{staticClass:"mt-4"},[s("small",{staticClass:"d-block"},[t._v("الإسم: ")]),s("small",{staticClass:"d-block"},[t._v("التوقيع: ")])])])}],Pt={components:{Header:ut,Seal:gt,Footer:yt},props:["data"],computed:{pages(){const t=5,e=[];let s=0;while(s<this.data.length)e.push(this.data.slice(s,s+t)),s+=t;return e}}},Et=Pt,At=Object(o["a"])(Et,jt,Nt,!1,null,null,null),Dt=At.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.groupedData,(function(e,a){return s("div",{key:a,staticClass:"pdfPage position-relative"},[s("Header"),s("div",{staticClass:"px-4 py-4"},[s("div",{staticClass:"text-center"},[0==a?s("h3",{staticClass:"fw-bold"},[t._v("سجل التحضير")]):t._e()]),s("div",{staticClass:"mt-4"},[s("div",{staticClass:"mt-3"},[t._m(0,!0),s("div",{staticClass:"table-row"},t._l(e,(function(e){return s("div",{key:e.id,staticClass:"d-flex"},[s("small",{staticClass:"col-1 py-1 text-center"},[t._v(t._s(e.productId))]),s("small",{staticClass:"col-2 py-1 text-center"},[t._v(t._s(e.itemName.replace(/(\D)(\d)/g,"$1 $2")))]),s("small",{staticClass:"col-2 py-1 text-center"},[t._v(t._s(e.tradeName.replace(/(\D)(\d)/g,"$1 $2")))]),s("small",{staticClass:"col-2 py-1 text-center"},[t._v(t._s(e.employeeName.replace(/(\D)(\d)/g,"$1 $2")))]),s("small",{staticClass:"col py-1 text-center"},[t._v(t._s(t.$assetsStore().moment(e.receiptDate).format("YYYY-MM-DD, HH:mm")))]),s("small",{staticClass:"col py-1 text-center"},[t._v(t._s(t.$assetsStore().moment(e.observedAt).format("YYYY-MM-DD, HH:mm")))]),s("small",{staticClass:"col-1 py-1 text-center"},[t._v(t._s(e.status))])])})),0)])])]),s("div",{staticClass:"text-center position-absolute bottom-0 w-100"},[s("small",[t._v("الصفحة "+t._s(a+1))])])],1)})),0)},Bt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table-colums p-0 m-0 text-center",staticStyle:{color:"#000 !important"}},[s("small",{staticClass:"col-1"},[t._v("المنتج")]),s("small",{staticClass:"col-2"},[t._v("الصنف")]),s("small",{staticClass:"col-2"},[t._v("المحل")]),s("small",{staticClass:"col-2"},[t._v("الموظف")]),s("small",{staticClass:"col"},[t._v("تاريخ الإستلام")]),s("small",{staticClass:"col"},[t._v("تاريخ التحضير")]),s("small",{staticClass:"col-1"},[t._v("الحالة")])])}],Ot={components:{Header:ut},props:["data"],computed:{groupedData(){const t=10,e=[];let s=0;while(s<this.data.length)e.push(this.data.slice(s,s+t)),s+=t;return e}}},It=Ot,qt=(s("6c3b"),Object(o["a"])(It,Rt,Bt,!1,null,"63051c68",null)),Tt=qt.exports,Ut={components:{EmployeeDoc:St,ClientDoc:Dt,ObservingRecord:Tt},props:["id"],data(){return{data:[]}},created(){this.getData()},methods:{getData(){let t;t="Items"==this.$route.name?"/api/v1/products/path4?limtLess=true":"ClientsTransactions"==this.$route.name?"/api/v1/products/path7/"+this.$route.params.id:"/api/v1/products/path6/"+this.$route.params.id,this.$axios.get(t).then(t=>{if(!t.data.success)return console.log("Failed get Transactions");this.data=t.data.rows,this.$emit("pdfDataIsReady")}).catch(()=>{console.log("Error catched")})}}},Mt=Ut,Ft=(s("d662"),Object(o["a"])(Mt,lt,it,!1,null,null,null)),Yt=Ft.exports,Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"makeBarcode",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"form modal-dialog"},[s("div",{staticClass:"modal-content border-0 p-3 p-md-4"},[s("div",{staticClass:"text-center"},[s("span",{ref:"closeModal",staticClass:"close-model-icon",attrs:{"data-bs-dismiss":"modal"}},[s("i",{staticClass:"fal fa-times"})])]),s("div",{staticClass:"align-self-center"},[s("QrCard",{attrs:{downloadMode:!1}})],1),s("button",{staticClass:"mt-3 main-click py-2 px-4 border-0 radius",attrs:{disabled:t.loadingBtn},on:{click:function(e){t.displayComponent=!0,t.generatePDF()}}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[s("i",{staticClass:"fad fa-file-download"}),t._v(" طباعة")])])]),s("vue-html2pdf",{directives:[{name:"show",rawName:"v-show",value:t.displayComponent,expression:"displayComponent"}],ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!0,"paginate-elements-by-height":1400,filename:"QrCode","pdf-quality":8,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"landscape","pdf-content-width":"800px"},on:{progress:function(e){return t.onProgress(e)}}},[s("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[s("QrCard",{attrs:{downloadMode:!0}})],1)])],1)])])},zt=[],Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["f-color-2",t.downloadMode?"download-qr":"Qr-card"]},[s("div",[s("div",{staticClass:"fw-bold text-center card-brad"},[t._v("مؤسسة ندى التميز للتجارة")]),s("div",{staticClass:"mt-3 qr-details d-flex align-items-center justify-content-between"},[s("div",{staticClass:"col-8"},[s("div",{staticClass:"d-flex flex-column"},[s("small",[t._v("إسم المنتج: ")]),s("span",[t._v(t._s(t.$qrCodeStore().itemName.replace(/(\D)(\d)/g,"$1 $2")))])]),s("div",{staticClass:"mt-2 d-flex flex-column"},[s("small",[t._v("إسم المستلم: ")]),s("span",[t._v(t._s(t.$qrCodeStore().recipient.replace(/(\D)(\d)/g,"$1 $2")))])]),s("div",{staticClass:"mt-2 d-flex flex-column"},[s("small",[t._v("تاريخ الإستلام: ")]),s("span",[t._v(t._s(t.$qrCodeStore().receiptDate))])])]),s("div",{staticClass:"col"},[s("qrcode-vue",{staticClass:"qrcode",attrs:{value:String(t.$qrCodeStore().value),size:1e3,ecLevel:"H"}})],1)])])])},Lt=[],Vt=s("65b9"),Wt=s.n(Vt),Gt={props:["downloadMode"],components:{QrcodeVue:Wt.a}},Jt=Gt,Kt=(s("0452"),Object(o["a"])(Jt,Ht,Lt,!1,null,null,null)),Xt=Kt.exports,Zt={components:{VueHtml2pdf:at["a"],QrCard:Xt},data(){return{loadingBtn:!1,displayComponent:!1}},methods:{onProgress(t){console.log(`Processed: ${t} / 100`),100==t&&(this.loadingBtn=!1,this.displayComponent=!1)},generatePDF(){this.loadingBtn=!0,this.$refs.html2Pdf.generatePdf()}}},te=Zt,ee=Object(o["a"])(te,Qt,zt,!1,null,null,null),se=ee.exports,ae={components:{VueHtml2pdf:at["a"],ProductQrCode:se,PdfDoc:Yt},data(){return{apiUrl:"/api/v1/products/path4",data:[],alerts:{success:null,error:null},loadingBtn:!1,loadingPdfData:!1,showPrintBtn:!1,pagination:{page:1,offset:0},searchSelect:{employeeSelected:"",citySelected:""},search:"",selectedRows:[],selectAll:!1,dateRange:{from:"",to:""},excel:{fileName:"سجل التحضير",columns:[{label:"#",field:"id"},{label:"المنتج",field:"productId"},{label:"الصنف",field:"itemName"},{label:"المحل",field:"tradeName"},{label:"الموظف",field:"employeeName"},{label:"تاريخ الإستلام",field:"receiptDate",dataFormat:this.dateFormat},{label:"تاريخ التحضير",field:"observedAt",dataFormat:this.dateFormat},{label:"الحالة",field:"status"}]}}},watch:{selectAll(t){this.selectedRows=t?this.data.map(t=>t.id):[]}},methods:{pagiTransitions(t){"back"==t?this.pagination.offset>0&&(this.pagination.offset=this.pagination.offset-this.$mainStore().offsetNum,this.pagination.page--):"next"==t&&(this.pagination.offset=this.pagination.offset+this.$mainStore().offsetNum,this.pagination.page++),this.getData()},getData(){let t={params:{dateFrom:this.dateRange.from,dateTo:this.dateRange.to,search:this.search,offset:this.pagination.offset}},e=this.apiUrl;this.$axios.get(e,t).then(t=>{if(!t.data.success)return this.data=[],this.alerts.error=t.data.msg;this.alerts.error=null,this.data=t.data.rows}).catch(()=>{console.log("Attending/Error catched")})},bindToemployee(){this.searchSelect.citySelected="",this.search=this.searchSelect.employeeSelected,this.getData()},bindToCity(){this.searchSelect.employeeSelected="",this.search=this.searchSelect.citySelected,this.getData()},getDataRange(){this.dateRange.from&&this.dateRange.to&&this.getData()},deleteRecords(){this.loadingBtn=!0;let t={ids:this.selectedRows};this.$axios.post("/api/v1/products/path5",t).then(t=>{if(this.loadingBtn=!1,!t.data.success)return console.log(t.data.msg);this.selectedRows=[],this.selectAll=!1,this.getData()}).catch(t=>console.log("🚀 ~ Delete track records",t))},onProgress(t){console.log(`Processed: ${t} / 100`),100==t&&(this.loadingBtn=!1)},hasGenerated(){alert("PDF generated successfully!")},generatePDF(){this.loadingBtn=!0,this.$refs.html2Pdf.generatePdf()},dateFormat(t){return this.$assetsStore().moment(t).format("YYYY-MM-DD, HH:mm")}},created(){this.$assetsStore().selectEmployees(),this.$assetsStore().cities.length||this.$assetsStore().selectCities(),this.getData()}},le=ae,ie=Object(o["a"])(le,et,st,!1,null,null,null),re=ie.exports,oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mt-4 d-flex justify-content-md-end flex-wrap"},[s("div",{staticClass:"mt-4 mt-md-0 col-12 col-md-4"},[s("div",{staticClass:"d-flex position-relative align-items-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"بحث..."},domProps:{value:t.search},on:{keyup:function(e){return t.getData()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),s("div",{staticClass:"search-icon rounded px-3 py-1"},[t.search?s("small",{staticClass:"text-on-hover",on:{click:function(e){t.search="",t.getData()}}},[s("i",{staticClass:"fas fa-times"})]):s("small",[s("i",{staticClass:"fas fa-search"})])])])])]),t.selectedRows.length&&"admin"==t.$accountStore().data.userType?s("div",{staticClass:"mt-2 table-action col-12 col-md-3"},[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("small",{staticClass:"text-decoration-underline text-on-hover f-color-1",on:{click:function(e){return t.deleteRecords()}}},[t._v("حذف "+t._s(t.selectedRows.length)+" صنف؟")])]):t._e(),1==t.activeTable?s("div",{staticClass:"mt-4 b-color-0 box-shadow-style px-md-2 py-3",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticStyle:{"min-width":"62em"}},[s("div",{staticClass:"px-2 table-colums mb-4"},["admin"==t.$accountStore().data.userType?s("small",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{change:function(e){var s=t.selectAll,a=e.target,l=!!a.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);a.checked?r<0&&(t.selectAll=s.concat([i])):r>-1&&(t.selectAll=s.slice(0,r).concat(s.slice(r+1)))}else t.selectAll=l}}})]):t._e(),s("small",{staticClass:"col"},[t._v("الصنف")]),s("small",{staticClass:"col-3"},[t._v("إسم الصنف")]),s("small",{staticClass:"col-2"},[t._v("الكمية / الإجمالية")]),s("small",{staticClass:"col-1"},[t._v("الوحدة")]),s("small",{staticClass:"col"},[t._v("سعر الوحدة")]),s("small",{staticClass:"col"},[t._v("السعر الإجمالي")])]),t._l(t.data,(function(e){return s("div",{key:e.id,staticClass:"table-row py-3"},[s("div",{staticClass:"px-2 d-flex f-color-3"},["admin"==t.$accountStore().data.userType?s("span",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRows,expression:"selectedRows"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selectedRows)?t._i(t.selectedRows,e.id)>-1:t.selectedRows},on:{change:function(s){var a=t.selectedRows,l=s.target,i=!!l.checked;if(Array.isArray(a)){var r=e.id,o=t._i(a,r);l.checked?o<0&&(t.selectedRows=a.concat([r])):o>-1&&(t.selectedRows=a.slice(0,o).concat(a.slice(o+1)))}else t.selectedRows=i}}})]):t._e(),s("span",{staticClass:"col"},[t._v(t._s(e.id))]),s("div",{staticClass:"col-3 "},[s("router-link",{staticClass:"f-color-1 text-on-hover",attrs:{to:{name:"ItemInfo",params:{id:e.id}}}},[t._v(t._s(e.name)+" ")]),t.loadingItem?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):e.restQuantity!=e.quantity?s("span",{staticClass:"f-color-2 opacity-50 opacity-100-on-hover",on:{click:function(s){return t.itemDetails(e.name)}}},[s("i",{staticClass:"fas fa-clipboard-list"})]):t._e()],1),s("span",{staticClass:"col-2"},[t._v(t._s(e.restQuantity)+" / "+t._s(e.quantity))]),s("span",{staticClass:"col-1"},[t._v(t._s(e.unit))]),s("span",{staticClass:"col"},[t._v(t._s(e.unitPrice))]),s("span",{staticClass:"col"},[t._v(t._s(e.totalPrice))])])])})),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-start text-md-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-start text-md-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])],2)]):s("div",{staticClass:"mt-4 b-color-0 box-shadow-style px-md-2 py-3",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticStyle:{"min-width":"62em"}},[t._m(0),t._l(t.data,(function(e){return s("div",{key:e.id,staticClass:"table-row py-3"},[s("div",{staticClass:"px-2 d-flex f-color-3"},[e.employeeId?s("router-link",{staticClass:"col-4 f-color-1 text-on-hover",attrs:{to:{name:"EmployeeAccount",params:{id:e.employeeId}}}},[t._v(t._s(e.employeeName))]):s("router-link",{staticClass:"col-4 f-color-1 text-on-hover",attrs:{to:{name:"ClientAccount",params:{id:e.clientId}}}},[t._v(t._s(e.tradeName))]),s("span",{staticClass:"col"},[t._v(t._s(e.COUNT||"-"))]),s("span",{staticClass:"col"},[t._v(t._s(e.employeeCivil||"-"))]),s("span",{staticClass:"col"},[t._v(t._s(e.tradeName||"-"))]),s("span",{staticClass:"col"},[t._v(t._s(e.clientCity||"-"))]),s("span",{staticClass:"col"},[t._v(t._s(e.employeePhone||e.clientPhone))])],1)])})),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-start text-md-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-start text-md-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])],2)]),s("div",{staticClass:"mt-4 pagination d-flex align-items-center"},[s("div",{staticClass:"icon",on:{click:function(e){return t.pagiTransitions("back")}}},[s("i",{staticClass:"fas fa-long-arrow-alt-right"})]),s("div",{staticClass:"page-num mx-3"},[s("small",[t._v(t._s(t.pagination.page))])]),s("div",{class:["icon",t.data.length<t.$mainStore().offsetNum?"prevent-next-pagination":""],on:{click:function(e){!(t.data.length<t.$mainStore().offsetNum)&&t.pagiTransitions("next")}}},[s("i",{staticClass:"fas fa-long-arrow-alt-left"})])]),t.data.length&&!t.search?s("ExportData",{staticClass:"mt-3 mt-md-0 text-center text-md-start",attrs:{dataUrl:t.apiUrl,columns:t.excel.columns,fileName:t.excel.fileName}}):t._e()],1)},ce=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-2 table-colums mb-4"},[s("small",{staticClass:"col-4"},[t._v("الطرف الثاني")]),s("small",{staticClass:"col"},[t._v("الكمية")]),s("small",{staticClass:"col"},[t._v("الهوية")]),s("small",{staticClass:"col"},[t._v("الإسم التجاري")]),s("small",{staticClass:"col"},[t._v("المدينة / المحافظة")]),s("small",{staticClass:"col"},[t._v("الجوال")])])}],ne={data(){return{apiUrl:"/api/v1/items/path1",activeTable:1,data:[],alerts:{success:null,error:null},loadingBtn:!1,loadingItem:!1,pagination:{page:1,offset:0},search:"",selectedRows:[],selectAll:!1,excel:{fileName:"اصناف المستودع",columns:[{label:"#",field:"id"},{label:"إسم الصنف",field:"name"},{label:"الكمية داخل المستودع",field:"restQuantity"},{label:"الكمية الإجمالية",field:"quantity"},{label:"الوحدة",field:"unit"},{label:"سعر الوحدة",field:"unitPrice"},{label:"السعر الإجمالي",field:"totalPrice"}]}}},watch:{selectAll(t){this.selectedRows=t?this.data.map(t=>t.id):[]}},methods:{pagiTransitions(t){"back"==t?this.pagination.offset>0&&(this.pagination.offset=this.pagination.offset-this.$mainStore().offsetNum,this.pagination.page--):"next"==t&&(this.pagination.offset=this.pagination.offset+this.$mainStore().offsetNum,this.pagination.page++),this.getData()},getData(t){let e={params:{search:this.search.trim(),offset:this.pagination.offset}};"usersOrClients"==t?this.apiUrl="/api/v1/products/path9":(this.apiUrl="/api/v1/items/path1",this.activeTable=1),console.log("🚀 ~ file: Warehouse.vue:151 ~ getData ~ type:",t);let s=this.apiUrl;this.$axios.get(s,e).then(t=>{if(this.loadingItem=!1,this.selectAll=!1,!t.data.success)return this.data=[],this.alerts.error=t.data.msg;this.alerts.error=null,this.data=t.data.rows}).catch(()=>{console.log("items/Error catched")})},deleteRecords(){this.loadingBtn=!0;let t={ids:this.selectedRows};this.$axios.post("/api/v1/items/path3",t).then(t=>{if(this.loadingBtn=!1,!t.data.success)return console.log(t.data.msg);this.selectedRows=[],this.selectAll=!1,this.getData()}).catch(t=>console.log("🚀 ~ Delete records",t))},itemDetails(t){this.loadingItem=!0,this.search=t,this.getData("usersOrClients"),this.activeTable=2}},created(){this.getData()}},de=ne,me=Object(o["a"])(de,oe,ce,!1,null,null,null),ue=me.exports,pe={components:{Observed:re,Warehouse:ue},data(){return{tabs:{observed:!1,warehouse:!0}}},created(){"employee"==this.$accountStore().data.userType&&(this.tabs.observed=!0,this.tabs.warehouse=!1)}},fe=pe,ve=Object(o["a"])(fe,Z,tt,!1,null,null,null),he=ve.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-header d-flex justify-content-between flex-wrap"},[t._m(0),s("small",{staticClass:"f-color-1 text-on-hover",on:{click:function(e){return t.$router.go(-1)}}},[t._v("العودة "),s("i",{staticClass:"far fa-long-arrow-alt-left"})])]),s("form",{staticClass:"form row flex-wrap",on:{submit:function(e){return e.preventDefault(),t.add()}}},[s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("الفئة")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.class,expression:"form.class"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"class",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("حدد الفئة")]),s("option",[t._v("اصناف المحلات")]),s("option",[t._v("اصناف الموظفين")])])]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("إسم الصنف")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم الصنف",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("الكمية")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.quantity,expression:"form.quantity"}],staticClass:"form-control",attrs:{type:"number",min:"1",placeholder:"أدخل الكمية",required:""},domProps:{value:t.form.quantity},on:{input:function(e){e.target.composing||t.$set(t.form,"quantity",e.target.value)}}})]),s("UnitsInput",{on:{"unit-selected":t.unitSelected}}),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("سعر الوحدة")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.unitPrice,expression:"form.unitPrice"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل سعر الوحدة",required:""},domProps:{value:t.form.unitPrice},on:{input:function(e){e.target.composing||t.$set(t.form,"unitPrice",e.target.value)}}})]),t.form.quantity&&t.form.unitPrice?s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("السعر الإجمالي")]),s("input",{staticClass:"form-control",attrs:{type:"text",disabled:"",placeholder:"أدخل السعر الإجمالي",required:""},domProps:{value:t.totalPrice}})]):t._e(),s("div",{staticClass:"mt-5 d-flex justify-content-end"},[s("div",{staticClass:"text-center"},[s("small",{staticClass:"f-color-3_1 px-4"},[t._v("هل تود إضافة الصنف؟")]),s("button",{staticClass:"mt-2 mt-md-0 main-click with-100px f-color-0 border-0 py-2 px-3 rounded ",attrs:{disabled:t.loadingBtn,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("إضافة صنف")])])])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])],1)])},_e=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"section-title"},[t._v("إضافة صنف")]),s("p",{staticClass:"section-desc"},[t._v("بإمكانك هنا إضافة و تسجيل الصنف الجديد.")])])}],Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("div",{staticClass:"d-flex justify-content-between"},[s("label",[t._v("الوحدة")]),t.showAddInput?s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("div",{staticClass:"d-flex gap-2"},[t.unit?s("span",{staticClass:"save-click",on:{click:function(e){return t.add()}}},[s("i",{staticClass:"fad fa-check"})]):t._e(),s("span",{staticClass:"cancel-click",on:{click:function(e){t.showAddInput=!t.showAddInput,t.emptyUnit()}}},[s("i",{staticClass:"fad fa-times"})])])]):t.showAddInput?t._e():s("div",[s("small",{staticClass:"f-color-1 text-decoration-underline text-on-hover",on:{click:function(e){t.showAddInput=!t.showAddInput,t.emptyUnit()}}},[t._v("وحدة جديدة"),s("i",{staticClass:"fal fa-plus px-1"})])])]),t.showAddInput?s("input",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل الوحدة",required:""},domProps:{value:t.unit},on:{input:function(e){e.target.composing||(t.unit=e.target.value)}}}):s("select",{directives:[{name:"model",rawName:"v-model",value:t.unit,expression:"unit"}],staticClass:"form-select",attrs:{required:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.unit=e.target.multiple?s:s[0]},function(e){return t.setUnit()}]}},[s("option",{attrs:{value:""}},[t._v("تحديد الوحدة")]),t._l(t.$assetsStore().unites,(function(e){return s("option",{key:e.id},[t._v(t._s(e.unit))])}))],2)])},xe=[],be={data(){return{loadingBtn:!1,showAddInput:!1,unit:""}},created(){0==this.$assetsStore().unites.length&&this.$assetsStore().selectUnits()},methods:{setUnit(){this.$emit("unit-selected",this.unit)},emptyUnit(){this.unit="",this.$emit("unit-selected",this.unit)},add(){this.loadingBtn=!0;const t="/api/v1/items/path4",e={unit:this.unit};this.$axios.post(t,e).then(t=>{this.loadingBtn=!1,t.data.success&&(this.$assetsStore().unites.push(t.data.inserted),this.unit="",this.showAddInput=!1)}).catch(t=>{this.loadingBtn=!1,console.log("🚀 ~ New Unit e:",t)})}}},ye=be,we=(s("5d0b"),Object(o["a"])(ye,Ce,xe,!1,null,null,null)),$e=we.exports,ke={components:{UnitsInput:$e},data(){return{alerts:{success:"",error:""},loadingBtn:!1,form:{class:"",name:"",quantity:"",unit:"",unitPrice:""}}},computed:{totalPrice(){return this.form.quantity*this.form.unitPrice}},methods:{add(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0;let t=this.form;t.totalPrice=this.totalPrice;let e="/api/v1/items/path0";this.$axios.post(e,t).then(t=>{if(!t.data.success)return this.loadingBtn=!1,this.alerts.error=t.data.msg;this.alerts.success=t.data.msg,this.form.class="",this.form.name="",this.form.quantity="",this.form.unit="",this.form.unitPrice="",this.loadingBtn=!1}).catch(()=>{console.log("New Item! : Error catched"),this.loadingBtn=!1})},unitSelected(t){this.form.unit=t}}},Se=ke,je=Object(o["a"])(Se,ge,_e,!1,null,null,null),Ne=je.exports,Pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-header d-flex justify-content-between flex-wrap"},[t._m(0),s("small",{staticClass:"f-color-1 text-on-hover",on:{click:function(e){return t.$router.go(-1)}}},[t._v("العودة "),s("i",{staticClass:"far fa-long-arrow-alt-left"})])]),s("form",{staticClass:"form row flex-wrap",on:{submit:function(e){return e.preventDefault(),t.delivery()}}},[s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(1),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.class,expression:"form.class"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"class",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("حدد الفئة")]),s("option",{attrs:{value:"1"}},[t._v("اصناف الموظفين")]),s("option",{attrs:{value:"2"}},[t._v("اصناف المحلات")])])]),1==t.form.class?s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(2),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.employee,expression:"form.employee"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"employee",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("حدد الموظف")]),t._l(t.$assetsStore().employees,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.fullName))])}))],2)]):t._e(),2==t.form.class?s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("المدينة / المحافظة ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.citySelected,expression:"citySelected"}],staticClass:"form-control",attrs:{list:"cities",type:"text",placeholder:"حدد المدينة / المحافظة"},domProps:{value:t.citySelected},on:{change:t.clientsOfCity,input:function(e){e.target.composing||(t.citySelected=e.target.value)}}}),s("datalist",{attrs:{id:"cities"}},t._l(t.$assetsStore().cities,(function(t){return s("option",{key:t.id,domProps:{value:t.city}})})),0)]):t._e(),2==t.form.class?s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(3),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.client,expression:"form.client"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"client",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("حدد المحل")]),t._l(t.clients,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.tradeName))])}))],2)]):t._e(),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(4),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.item,expression:"form.item"}],staticClass:"form-select",attrs:{required:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"item",e.target.multiple?s:s[0])},t.findRestQuantity]}},[s("option",{attrs:{value:""}},[t._v("حدد الصنف")]),t._l(t.$assetsStore().items,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("عدد المنتجات "),s("span",{staticClass:"asterisk"},[t._v("*")]),t.form.item?s("small",[t._v("( "+t._s(t.restQuantity)+" منتج داخل المستودع )")]):t._e()]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.quantity,expression:"form.quantity"}],staticClass:"form-control",attrs:{type:"number",min:"1",placeholder:"أدخل عدد المنتجات",required:""},domProps:{value:t.form.quantity},on:{input:function(e){e.target.composing||t.$set(t.form,"quantity",e.target.value)}}})]),s("div",{staticClass:"mt-5 d-flex justify-content-end"},[s("div",{staticClass:"text-center"},[s("small",{staticClass:"f-color-3_1 px-4"},[t._v("هل تود نقل هذه المنتجات الآن؟")]),s("button",{staticClass:"main-click border-0 rounded mt-2 mt-md-0",attrs:{disabled:t.loadingBtn,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("نقل العُهد")])])])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])])])},Ee=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"section-title"},[t._v("نقل العُهد")]),s("p",{staticClass:"section-desc"},[t._v("بإمكانك تسجيل نقل العهد الى الموظفين / المحلات")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("الفئة "),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("الموظف "),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("المحل "),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("الصنف "),s("span",{staticClass:"asterisk"},[t._v("*")])])}],Ae={data(){return{alerts:{success:"",error:""},loadingBtn:!1,citySelected:"",restQuantity:null,quantityOut:null,clients:this.$assetsStore().clients,form:{class:"",item:"",employee:"",client:"",quantity:""}}},created(){this.$assetsStore().employees.length||this.$assetsStore().selectEmployees(),this.$assetsStore().selectItems(),this.$assetsStore().selectClients(),this.$assetsStore().selectCities()},methods:{delivery(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0;let t=this.form;1==t.class&&delete t.client,2==t.class&&delete t.employee;let e="/api/v1/products/path0";this.$axios.post(e,t).then(t=>{if(!t.data.success)return this.loadingBtn=!1,this.alerts.error=t.data.msg;this.alerts.success=t.data.msg,this.loadingBtn=!1,this.form.employee="",this.form.client="",this.$assetsStore().items.find(t=>t.id==this.form.item).quantityOut=this.quantityOut+Number(this.form.quantity),console.log("🚀 ~ file: ProductsDelivery.vue:144 ~ this.$axios.post ~ this.form.quantity:",this.form.quantity),console.log("🚀 ~ file: ProductsDelivery.vue:144 ~ this.$axios.post ~ this.quantityOut:",this.quantityOut),this.findRestQuantity()}).catch(()=>{console.log("New Item! : Error catched"),this.loadingBtn=!1})},findRestQuantity(){const t=this.$assetsStore().items,e=t.find(t=>t.id==this.form.item).quantity;return this.quantityOut=t.find(t=>t.id==this.form.item).quantityOut,this.restQuantity=e-this.quantityOut},clientsOfCity(){const t=this.$assetsStore().cities.find(t=>t.city==this.citySelected);if(!t)return this.clients=this.$assetsStore().clients;{const e=t.city,s=this.$assetsStore().clients.filter(t=>t.city==e);this.clients=s}}}},De=Ae,Re=Object(o["a"])(De,Pe,Ee,!1,null,null,null),Be=Re.exports,Oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-header d-flex justify-content-between flex-wrap"},[t._m(0),s("small",{staticClass:"f-color-1 text-on-hover",on:{click:function(e){return t.$router.go(-1)}}},[t._v("العودة "),s("i",{staticClass:"far fa-long-arrow-alt-left"})])]),s("form",{staticClass:"form row flex-wrap",on:{submit:function(e){return e.preventDefault(),t.edit()}}},[s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم الصنف",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),s("UnitsInput",{on:{"unit-selected":t.unitSelected}}),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.unitPrice,expression:"form.unitPrice"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل سعر الوحدة",required:""},domProps:{value:t.form.unitPrice},on:{input:function(e){e.target.composing||t.$set(t.form,"unitPrice",e.target.value)}}})]),t.form.quantity&&t.form.unitPrice?s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(3),s("input",{staticClass:"form-control",attrs:{type:"text",disabled:"",placeholder:"أدخل السعر الإجمالي",required:""},domProps:{value:t.totalPrice}})]):t._e(),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(4),s("input",{staticClass:"form-control",attrs:{type:"number",min:"1",placeholder:"أدخل الكمية",disabled:""},domProps:{value:t.form.quantity}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("هل تود إضافة كمية اخرى؟")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newQuantity,expression:"newQuantity"}],staticClass:"form-control",attrs:{type:"number",min:"1",placeholder:"أدخل الكمية المراد إضافتها"},domProps:{value:t.newQuantity},on:{input:function(e){e.target.composing||(t.newQuantity=e.target.value)}}})]),s("div",{staticClass:"mt-5 d-flex justify-content-end"},[s("div",{staticClass:"text-center"},[s("small",{staticClass:"f-color-3_1 px-4"},[t._v("هل تود تحديث الصنف؟")]),s("button",{staticClass:"mt-2 mt-md-0 main-click with-100px f-color-0 border-0 py-2 px-3 rounded ",attrs:{disabled:t.loadingBtn,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("تحديث")])])])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])],1)])},Ie=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"section-title"},[t._v("تعديل الصنف")]),s("p",{staticClass:"section-desc"},[t._v("بإمكانك هنا تعديل و تحديث بيانات الصنف.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("إسم الصنف "),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("سعر الوحدة "),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("السعر الإجمالي "),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("الكمية "),s("span",{staticClass:"asterisk"},[t._v("*")])])}],qe={components:{UnitsInput:$e},data(){return{alerts:{success:"",error:""},loadingBtn:!1,form:this.$itemStore().data,newQuantity:null}},computed:{totalPrice(){return(this.form.quantity+Number(this.newQuantity))*this.form.unitPrice}},methods:{edit(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0;let t=this.form;t.totalPrice=this.totalPrice,t.newQuantity=this.newQuantity;let e="/api/v1/items/path7/"+this.$route.params.id;this.$axios.post(e,t).then(t=>{if(!t.data.success)return this.loadingBtn=!1,this.alerts.error=t.data.msg;this.alerts.success=t.data.msg,this.loadingBtn=!1}).catch(()=>{console.log("Edit Item! : Error catched"),this.loadingBtn=!1})},unitSelected(t){this.form.unit=t}}},Te=qe,Ue=Object(o["a"])(Te,Oe,Ie,!1,null,null,null),Me=Ue.exports,Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-5 p-lg-2",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticClass:"b-color-0 box-shadow-style mt-0 mt-lg-4 px-3 py-5 px-md-4"},[s("router-view")],1)])},Ye=[],Qe={},ze=Object(o["a"])(Qe,Fe,Ye,!1,null,null,null),He=ze.exports,Le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex justify-content-between section-header flex-wrap"},[t._m(0),"admin"==t.$accountStore().data.userType?s("small",[s("router-link",{staticClass:"soft-click py-2 px-3 d-flex align-items-center justify-content-around",attrs:{to:{name:"AddAccount"}}},[s("i",{staticClass:"fal fa-plus px-1"}),t._v("موظف جديد")])],1):t._e()]),s("div",{staticClass:"mt-5 col-12 col-md"},[s("ul",{staticClass:"list-unstyled m-0 d-flex gap-5 f-color-3_3"},[s("li",{class:[t.tabs.employee?"f-color-1 active-section-tab":"","section-tab"],on:{click:function(e){t.tabs.storekeeper=!1,t.tabs.employee=!0,t.tabs.admin=!1,t.getData(),t.selectedRows=[]}}},[t._v("الموظفين"),t.tabs.employee?s("hr",{staticClass:"tab-hr mt-1"}):t._e()]),s("li",{class:[t.tabs.storekeeper?"f-color-1 active-section-tab":"","section-tab"],on:{click:function(e){t.tabs.storekeeper=!0,t.tabs.employee=!1,t.tabs.admin=!1,t.getData(),t.selectedRows=[]}}},[t._v("أمناء المستودع"),t.tabs.storekeeper?s("hr",{staticClass:"tab-hr mt-1"}):t._e()]),"admin"==t.$accountStore().data.userType?s("li",{class:[t.tabs.admin?"f-color-1 active-section-tab":"","section-tab"],on:{click:function(e){t.tabs.storekeeper=!1,t.tabs.employee=!1,t.tabs.admin=!0,t.getData(),t.selectedRows=[]}}},[t._v("المدراء"),t.tabs.admin?s("hr",{staticClass:"tab-hr mt-1"}):t._e()]):t._e()])]),s("div",{staticClass:"mt-4 d-flex justify-content-md-end flex-wrap"},[s("div",{staticClass:"mt-4 mt-md-0 col-12 col-md-4"},[s("div",{staticClass:"d-flex position-relative align-items-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"بحث..."},domProps:{value:t.search},on:{keyup:function(e){return t.getData()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._m(1)])])]),t.selectedRows.length&&"admin"==t.$accountStore().data.userType?s("div",{staticClass:"mt-2 table-action col-12"},[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("small",{staticClass:"text-decoration-underline text-on-hover f-color-1",on:{click:function(e){return t.deleteRecords()}}},[t._v("حذف "+t._s(t.selectedRows.length)+" مستخدم؟ ")]),t.alerts.error?s("span",{staticClass:"asterisk px-4 text-decoration-none"},[s("i",{staticClass:"fas fa-exclamation-circle"}),t._v(" "+t._s(t.alerts.error))]):t._e(),s("span")]):t._e(),s("div",{staticClass:"mt-4 b-color-0 box-shadow-style px-md-2 py-3",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticStyle:{"min-width":"62em"}},[s("div",{staticClass:"px-2 table-colums mb-4"},["admin"==t.$accountStore().data.userType?s("small",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{change:function(e){var s=t.selectAll,a=e.target,l=!!a.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);a.checked?r<0&&(t.selectAll=s.concat([i])):r>-1&&(t.selectAll=s.slice(0,r).concat(s.slice(r+1)))}else t.selectAll=l}}})]):t._e(),s("small",{staticClass:"col-2"},[t._v("الرقم الوظيفي")]),s("small",{staticClass:"col-2"},[t._v("رقم الهوية")]),s("small",{staticClass:"col-2"},[t._v("الإسم الأول ")]),s("small",{staticClass:"col-2"},[t._v("إسم المستخدم")]),s("small",{staticClass:"col-2"},[t._v("رقم الجوال")]),s("small",{staticClass:"col"},[t._v("العُهد")])]),t._l(t.data,(function(e){return s("div",{key:e.id,staticClass:"table-row py-3"},[s("div",{staticClass:"px-2 d-flex f-color-3"},["admin"==t.$accountStore().data.userType?s("span",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRows,expression:"selectedRows"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selectedRows)?t._i(t.selectedRows,e.id)>-1:t.selectedRows},on:{change:function(s){var a=t.selectedRows,l=s.target,i=!!l.checked;if(Array.isArray(a)){var r=e.id,o=t._i(a,r);l.checked?o<0&&(t.selectedRows=a.concat([r])):o>-1&&(t.selectedRows=a.slice(0,o).concat(a.slice(o+1)))}else t.selectedRows=i}}})]):t._e(),s("router-link",{staticClass:"col-2 f-color-1 text-on-hover",attrs:{to:{name:"EmployeeAccount",params:{id:e.id}}}},[t._v(t._s(e.id))]),s("span",{staticClass:"col-2"},[t._v(t._s(e.civil))]),s("span",{staticClass:"col-2"},[t._v(t._s(e.firstName))]),s("span",{staticClass:"col-2"},[t._v(t._s(e.username))]),s("span",{staticClass:"col-2"},[t._v(t._s(e.phone))]),3==e.role?s("router-link",{staticClass:"col f-color-1 text-on-hover",attrs:{to:{name:"EmployeeTransactions",params:{id:e.id}}}},[s("i",{staticClass:"fad fa-ellipsis-h"})]):s("span",{staticClass:"col"},[t._v("-")])],1)])})),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-start text-md-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):!t.data.length&&t.alerts.error?s("div",{staticClass:"text-start text-md-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])],2)]),s("div",{staticClass:"mt-4 pagination d-flex align-items-center"},[s("div",{staticClass:"icon",on:{click:function(e){return t.pagiTransitions("back")}}},[s("i",{staticClass:"fas fa-long-arrow-alt-right"})]),s("div",{staticClass:"page-num mx-3"},[s("small",[t._v(t._s(t.pagination.page))])]),s("div",{class:["icon",t.data.length<t.$mainStore().offsetNum?"prevent-next-pagination":""],on:{click:function(e){!(t.data.length<t.$mainStore().offsetNum)&&t.pagiTransitions("next")}}},[s("i",{staticClass:"fas fa-long-arrow-alt-left"})])]),t.data.length?s("ExportData",{staticClass:"mt-3 mt-md-0 text-center text-md-start",attrs:{dataUrl:t.apiUrl,columns:t.excel.columns,fileName:t.excel.fileName}}):t._e()],1)},Ve=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-md-8"},[s("span",{staticClass:"section-title"},[t._v("المستخدمين")]),s("p",{staticClass:"section-desc"},[t._v("يمكنك هنا الإطلاع على جميع مستخدمي النظام. ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-icon rounded px-3 py-1"},[s("small",[s("i",{staticClass:"fas fa-search"})])])}],We={data(){return{apiUrl:"/api/v1/users/path1",data:[],alerts:{success:null,error:null},loadingBtn:!1,pagination:{page:1,offset:0},search:"",selectedRows:[],selectAll:!1,tabs:{employee:!0,storekeeper:!1,admin:!1},excel:{fileName:"المستخدمين",columns:[{label:"#",field:"id"},{label:"الرتبه",field:"role"},{label:"إسم المستخدم",field:"username"},{label:"الإسم الأول",field:"firstName"},{label:"إسم الأب",field:"parentName"},{label:"إسم الجد",field:"grandFather"},{label:"إسم العائلة",field:"famillyName"},{label:"رقم الهوية",field:"civil"},{label:"رقم الجوال",field:"phone"},{label:"البريد الإلكتروني",field:"email"}]}}},watch:{selectAll(t){this.selectedRows=t?this.data.map(t=>t.id):[]}},methods:{pagiTransitions(t){"back"==t?this.pagination.offset>0&&(this.pagination.offset=this.pagination.offset-this.$mainStore().offsetNum,this.pagination.page--):"next"==t&&(this.pagination.offset=this.pagination.offset+this.$mainStore().offsetNum,this.pagination.page++),this.getData()},getData(){const t=this.tabs.employee?"employee":this.tabs.admin?"admin":"storekeeper";let e={params:{role:t,search:this.search,offset:this.pagination.offset}},s=this.apiUrl;this.$axios.get(s,e).then(t=>{if(this.selectAll=!1,!t.data.success)return this.data=[],this.alerts.error=t.data.msg;this.alerts.error=null,this.data=t.data.rows}).catch(()=>{console.log("users/Error catched")})},deleteRecords(){this.loadingBtn=!0;let t={ids:this.selectedRows};this.$axios.post("/api/v1/users/path2",t).then(t=>{if(this.loadingBtn=!1,!t.data.success)return this.alerts.error=t.data.msg;this.selectedRows=[],this.selectAll=!1,this.getData()}).catch(t=>console.log("🚀 ~ Delete records",t))}},created(){this.getData()}},Ge=We,Je=Object(o["a"])(Ge,Le,Ve,!1,null,null,null),Ke=Je.exports,Xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-header d-flex justify-content-between flex-wrap"},[t._m(0),s("small",{staticClass:"f-color-1 text-on-hover",on:{click:function(e){return t.$router.go(-1)}}},[t._v("العودة "),s("i",{staticClass:"far fa-long-arrow-alt-left"})])]),1==t.tab?s("ImportFile"):s("form",{staticClass:"form row flex-wrap",on:{submit:function(e){return e.preventDefault(),t.add()}}},[s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("الرتبة"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.role,expression:"form.role"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"role",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("حدد الرتبة")]),s("option",{attrs:{value:"1"}},[t._v("مدير النظام")]),s("option",{attrs:{value:"2"}},[t._v("امين المستودع")]),s("option",{attrs:{value:"3"}},[t._v("موظف")])])]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("إسم المتسخدم"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم المتسخدم",required:""},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("الإسم الأول"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.firstName,expression:"form.firstName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل الإسم الأول",required:""},domProps:{value:t.form.firstName},on:{input:function(e){e.target.composing||t.$set(t.form,"firstName",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("إسم الأب"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.parentName,expression:"form.parentName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم الأب",required:""},domProps:{value:t.form.parentName},on:{input:function(e){e.target.composing||t.$set(t.form,"parentName",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("إسم الجد"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.grandFather,expression:"form.grandFather"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم الجد",required:""},domProps:{value:t.form.grandFather},on:{input:function(e){e.target.composing||t.$set(t.form,"grandFather",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("إسم العائلة"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.famillyName,expression:"form.famillyName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم العائلة",required:""},domProps:{value:t.form.famillyName},on:{input:function(e){e.target.composing||t.$set(t.form,"famillyName",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("رقم الهوية"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.civil,expression:"form.civil"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل رقم الهوية",required:""},domProps:{value:t.form.civil},on:{input:function(e){e.target.composing||t.$set(t.form,"civil",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("رقم الجوال"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل رقم الجوال",required:""},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("البريد الإلكتروني")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"أدخل البريد الإلكتروني"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("كلمة المرور "),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"الرجاء إدخال كلمة المرور",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),s("div",{staticClass:"mt-5 d-flex justify-content-between flex-wrap"},[s("div",{staticClass:"col-12 col-md mb-2 text-center text-md-end"},[s("ImportSwitch",{on:{switchToImport:function(e){t.tab=1}}})],1),s("div",{staticClass:"col-12 col-md text-center text-md-start"},[s("small",{staticClass:"f-color-3_1 px-4"},[t._v("هل تود إضافة المستخدم الجديد؟")]),s("button",{staticClass:"mt-2 mt-md-0 main-click with-100px f-color-0 border-0 py-2 px-3 rounded ",attrs:{disabled:t.loadingBtn,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("إضافة المستخدم")])])])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])])],1)},Ze=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"section-title"},[t._v("إضافة مستخدم")]),s("p",{staticClass:"section-desc"},[t._v("بإمكانك هنا إضافة المستخدم الجديد.")])])}],ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"mt-4",on:{submit:function(e){return e.preventDefault(),t.add()}}},[s("div",{staticClass:"import-card"},[s("input",{ref:"fileUpload",staticClass:"file-input",attrs:{type:"file",required:""},on:{change:t.handleFileUpload}}),s("div",{staticClass:"col-12 col-md-4"},[t._m(0),s("div",{staticClass:"mt-3"},[s("small",{staticClass:"f-color-3"},[t._v("إسحب الملف هنا او ")]),s("small",{staticClass:"browse",on:{click:function(e){return t.browse()}}},[t._v("تصفح الملفات")])]),t.fileProgress?s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar",style:{width:t.fileProgress+"%"},attrs:{role:"progressbar","aria-valuenow":t.fileProgress,"aria-valuemin":"0","aria-valuemax":"100"}},[s("small",[t._v(t._s(t.fileProgress)+"%")])])]):t._e(),t.file?s("div",{staticClass:"f-color-2 mt-2"},[s("i",{staticClass:"fad fa-file-alt"}),s("small",[t._v(" "+t._s(t.file.name))])]):t._e()])]),s("div",{staticClass:"mt-5 d-flex justify-content-end"},[s("div",{staticClass:"text-center"},[s("small",{staticClass:"f-color-3_1 px-4"},[t._v("هل تود إضافة "+t._s("Clients"==t.path?"المحلات":"المستخدمين")+" الجدد؟")]),s("button",{staticClass:"mt-2 mt-md-0 main-click with-100px f-color-0 border-0 py-2 px-3 rounded ",attrs:{disabled:t.loadingBtn||!t.file,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("إضافة")])])])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e(),t.existingRecords.length?s("div",{staticClass:"text-center alert text-center alert-warning"},[s("div",{staticClass:"text-align-start"},[s("span",{staticClass:"mb-3"},[t._v("ما عدا "+t._s("Clients"==t.path?"ارقام السجل":"اسماء المستخدمين")+" التالية لم تتم إضافتهما لوجودهما من قبل:")]),s("div",{staticClass:"d-flex justify-content-between flex-wrap"},t._l(t.existingRecords,(function(e){return s("small",{key:e.id,staticClass:"mt-2 col-4"},[s("i",{staticClass:"fad fa-hand-point-left"}),t._v(" "+t._s(e))])})),0)])]):t._e()])])},es=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("i",{staticClass:"icon fad fa-cloud-upload"})])}],ss={data(){return{alerts:{success:"",error:""},path:null,existingRecords:[],loadingBtn:!1,file:null,fileProgress:0}},created(){this.path="AddClient"==this.$route.name?"Clients":"Users"},methods:{browse(){this.$refs.fileUpload.click()},handleFileUpload(t){this.alerts.success="",this.alerts.error="",this.existingRecords=[],this.fileProgress=0,this.file=t.target.files[0]},add(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0,this.existingRecords=[];const t=new FormData;t.append("file",this.file);let e="Clients"==this.path?"/api/v1/clients/path7":"/api/v1/users/path4";this.$axios.post(e,t,{onUploadProgress:t=>{this.fileProgress=Math.round(100*t.loaded/t.total)}}).then(t=>{if(this.$refs.fileUpload.value=null,this.file=null,!t.data.success)return this.alerts.error=t.data.msg,this.loadingBtn=!1;this.alerts.success=t.data.msg;const e=t.data.existingClients||void 0,s=t.data.existingUsers||void 0;return s&&s.length?this.existingRecords=s:e&&e.length&&(this.existingRecords=e),"Clients"==this.path&&this.$assetsStore().selectCities(),this.loadingBtn=!1}).catch(t=>(console.log("ERROR IN IMPORT ",t),this.$refs.fileUpload.value=null,this.file=null,this.loadingBtn=!1))}}},as=ss,ls=(s("d92d"),Object(o["a"])(as,ts,es,!1,null,"085c4d2a",null)),is=ls.exports,rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"import-click",on:{click:function(e){return t.switchToImport()}}},[t._m(0),t._m(1)])},os=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("i",{staticClass:"fs-3 fad fa-file-upload"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-1"},[s("small",[t._v("إستيراد")])])}],cs={methods:{switchToImport(){this.$emit("switchToImport",!0)}}},ns=cs,ds=(s("0866"),Object(o["a"])(ns,rs,os,!1,null,null,null)),ms=ds.exports,us={components:{ImportFile:is,ImportSwitch:ms},data(){return{alerts:{success:"",error:""},tab:0,loadingBtn:!1,form:{role:"",username:"",firstName:"",parentName:"",grandFather:"",famillyName:"",civil:"",phone:"",email:"",password:""}}},methods:{add(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0;let t=this.form,e="/api/v1/users/path0";this.$axios.post(e,t).then(t=>{if(!t.data.success)return this.loadingBtn=!1,this.alerts.error=t.data.msg;this.alerts.success=t.data.msg,this.form.role="",this.form.username="",this.form.firstName="",this.form.parentName="",this.form.grandFather="",this.form.famillyName="",this.form.civil="",this.form.phone="",this.form.email="",this.form.password="",this.loadingBtn=!1}).catch(()=>{console.log("New User! : Error catched"),this.loadingBtn=!1})}}},ps=us,fs=Object(o["a"])(ps,Xe,Ze,!1,null,null,null),vs=fs.exports,hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-header d-flex justify-content-between flex-wrap"},[t._m(0),s("small",{staticClass:"f-color-1 text-on-hover",on:{click:function(e){return t.$router.go(-1)}}},[t._v("العودة "),s("i",{staticClass:"far fa-long-arrow-alt-left"})])]),s("form",{staticClass:"form row flex-wrap",on:{submit:function(e){return e.preventDefault(),t.update()}}},[s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم المتسخدم",required:""},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.firstName,expression:"form.firstName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل الإسم الأول",required:""},domProps:{value:t.form.firstName},on:{input:function(e){e.target.composing||t.$set(t.form,"firstName",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.parentName,expression:"form.parentName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم الأب",required:""},domProps:{value:t.form.parentName},on:{input:function(e){e.target.composing||t.$set(t.form,"parentName",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.grandFather,expression:"form.grandFather"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم الجد",required:""},domProps:{value:t.form.grandFather},on:{input:function(e){e.target.composing||t.$set(t.form,"grandFather",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(5),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.famillyName,expression:"form.famillyName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم العائلة",required:""},domProps:{value:t.form.famillyName},on:{input:function(e){e.target.composing||t.$set(t.form,"famillyName",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("البريد الإلكتروني")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"أدخل البريد الإلكتروني"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(6),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.civil,expression:"form.civil"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل رقم الهوية",required:""},domProps:{value:t.form.civil},on:{input:function(e){e.target.composing||t.$set(t.form,"civil",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(7),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل رقم الجوال",required:""},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("كلمة المرور")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"أدخل كلمة مرور"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("تأكيد كلمة المرور "),t.password?s("span",{staticClass:"asterisk"},[t._v("*")]):t._e()]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.Confpassword,expression:"Confpassword"}],class:[t.password!=t.Confpassword?"is-invalid":"","form-control"],attrs:{type:"password",placeholder:"أعد نفس كلمة المرور",required:!!t.password},domProps:{value:t.Confpassword},on:{input:function(e){e.target.composing||(t.Confpassword=e.target.value)}}})]),s("div",{staticClass:"mt-5 d-flex justify-content-end"},[s("div",{staticClass:"text-center"},[s("small",{staticClass:"f-color-3_1 px-4"},[t._v("هل تود تحديث المستخدم؟")]),s("button",{staticClass:"mt-2 mt-md-0 main-click with-100px f-color-0 border-0 py-2 px-3 rounded ",attrs:{disabled:t.loadingBtn,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("تحديث المستخدم")])])])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])])])},gs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"section-title"},[t._v("تعديل الحساب")]),s("p",{staticClass:"section-desc"},[t._v("بإمكانك هنا تعديل و حفظ بيانات الحساب.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("إسم المتسخدم"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("الإسم الأول"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("إسم الأب"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("إسم الجد"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("إسم العائلة"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("رقم الهوية"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("رقم الجوال"),s("span",{staticClass:"asterisk"},[t._v("*")])])}],_s={data(){return{alerts:{success:"",error:""},loadingBtn:!1,form:null,password:null,Confpassword:null}},created(){"EditMyAccount"==this.$route.name&&(this.form=this.$accountStore().data),"EditUser"==this.$route.name&&(this.form=this.$userStore().data)},methods:{update(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0;let t=this.form;if(this.password!=this.Confpassword)return this.alerts.error="كلمة المرور غير متطابقة, حاول تأكيد نفس كلمة المرور.",this.loadingBtn=!1;if(this.password){if(!(this.password.length>=8))return this.alerts.error="عذراً, الرجاء إدخال كلمة مرور اطول من 8 أحرف.",this.loadingBtn=!1;t.password=this.password}let e="/api/v1/users/path3/"+this.$route.params.id;this.$axios.post(e,t).then(t=>{if(!t.data.success)return this.loadingBtn=!1,this.alerts.error=t.data.msg;this.alerts.success=t.data.msg,this.password=null,this.Confpassword=null,this.loadingBtn=!1}).catch(()=>{console.log("User! : Error catched"),this.loadingBtn=!1})}}},Cs=_s,xs=Object(o["a"])(Cs,hs,gs,!1,null,null,null),bs=xs.exports,ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-5 p-lg-2",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticClass:"b-color-0 box-shadow-style mt-0 mt-lg-4 px-3 py-5 px-md-4"},[s("router-view")],1)])},ws=[],$s={},ks=Object(o["a"])($s,ys,ws,!1,null,null,null),Ss=ks.exports,js=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex justify-content-between section-header flex-wrap"},[t._m(0),"admin"==t.$accountStore().data.userType?s("small",[s("router-link",{staticClass:"soft-click py-2 px-3 d-flex align-items-center justify-content-around",attrs:{to:{name:"AddClient"}}},[s("i",{staticClass:"fal fa-plus px-1"}),t._v("محل جديد")])],1):t._e()]),s("div",{staticClass:"mt-4 d-flex justify-content-md-end flex-wrap"},[s("div",{staticClass:"mt-4 mt-md-0 col-12 col-md-4"},[s("div",{staticClass:"d-flex position-relative align-items-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"بحث..."},domProps:{value:t.search},on:{keyup:function(e){return t.getData()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._m(1)])])]),t.selectedRows.length&&"admin"==t.$accountStore().data.userType?s("div",{staticClass:"mt-2 table-action col-12"},[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("small",{staticClass:"text-decoration-underline text-on-hover f-color-1",on:{click:function(e){return t.deleteRecords()}}},[t._v("حذف "+t._s(t.selectedRows.length)+" محل؟")]),t.alerts.error?s("span",{staticClass:"asterisk px-4 text-decoration-none"},[s("i",{staticClass:"fas fa-exclamation-circle"}),t._v(" "+t._s(t.alerts.error))]):t._e()]):t._e(),s("div",{staticClass:"mt-4 b-color-0 box-shadow-style px-md-2 py-3",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticStyle:{"min-width":"62em"}},[s("div",{staticClass:"px-2 table-colums mb-4"},["admin"==t.$accountStore().data.userType?s("small",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{change:function(e){var s=t.selectAll,a=e.target,l=!!a.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);a.checked?r<0&&(t.selectAll=s.concat([i])):r>-1&&(t.selectAll=s.slice(0,r).concat(s.slice(r+1)))}else t.selectAll=l}}})]):t._e(),s("small",{staticClass:"col-2"},[t._v("رقم المحل")]),s("small",{staticClass:"col-2"},[t._v("الإسم التجاري")]),s("small",{staticClass:"col-2"},[t._v("رقم السجل")]),s("small",{staticClass:"col-2"},[t._v("المدينة/المحافظة")]),s("small",{staticClass:"col-2"},[t._v("رقم الجوال")]),s("small",{staticClass:"col"},[t._v("العُهد")])]),t._l(t.data,(function(e){return s("div",{key:e.id,staticClass:"table-row py-3"},[s("div",{staticClass:"px-2 d-flex f-color-3"},["admin"==t.$accountStore().data.userType?s("span",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRows,expression:"selectedRows"}],attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.selectedRows)?t._i(t.selectedRows,e.id)>-1:t.selectedRows},on:{change:function(s){var a=t.selectedRows,l=s.target,i=!!l.checked;if(Array.isArray(a)){var r=e.id,o=t._i(a,r);l.checked?o<0&&(t.selectedRows=a.concat([r])):o>-1&&(t.selectedRows=a.slice(0,o).concat(a.slice(o+1)))}else t.selectedRows=i}}})]):t._e(),s("router-link",{staticClass:"col-2 f-color-1 text-on-hover",attrs:{to:{name:"ClientAccount",params:{id:e.id}}}},[t._v(t._s(e.id))]),s("span",{staticClass:"col-2"},[t._v(t._s(e.tradeName))]),s("span",{staticClass:"col-2"},[t._v(t._s(e.commercialNum))]),s("span",{staticClass:"col-2"},[t._v(t._s(e.city))]),s("span",{staticClass:"col-2"},[t._v(t._s(e.phone))]),s("router-link",{staticClass:"col f-color-1 text-on-hover",attrs:{to:{name:"ClientsTransactions",params:{id:e.id}}}},[s("i",{staticClass:"fad fa-ellipsis-h"})])],1)])})),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-start text-md-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):!t.data.length&&t.alerts.error?s("div",{staticClass:"text-start text-md-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])],2)]),s("div",{staticClass:"mt-4 pagination d-flex align-items-center"},[s("div",{staticClass:"icon",on:{click:function(e){return t.pagiTransitions("back")}}},[s("i",{staticClass:"fas fa-long-arrow-alt-right"})]),s("div",{staticClass:"page-num mx-3"},[s("small",[t._v(t._s(t.pagination.page))])]),s("div",{class:["icon",t.data.length<t.$mainStore().offsetNum?"prevent-next-pagination":""],on:{click:function(e){!(t.data.length<t.$mainStore().offsetNum)&&t.pagiTransitions("next")}}},[s("i",{staticClass:"fas fa-long-arrow-alt-left"})])]),t.data.length?s("ExportData",{staticClass:"mt-3 mt-md-0 text-center text-md-start",attrs:{dataUrl:t.apiUrl,columns:t.excel.columns,fileName:t.excel.fileName}}):t._e()],1)},Ns=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-md-8"},[s("span",{staticClass:"section-title"},[t._v("المحلات")]),s("p",{staticClass:"section-desc"},[t._v("يمكنك هنا الإطلاع على جميع المحلات المسجلة. ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-icon rounded px-3 py-1"},[s("small",[s("i",{staticClass:"fas fa-search"})])])}],Ps={data(){return{apiUrl:"/api/v1/clients/path1",data:[],alerts:{success:null,error:null},loadingBtn:!1,pagination:{page:1,offset:0},search:"",selectedRows:[],selectAll:!1,excel:{fileName:"المحلات",columns:[{label:"#",field:"id"},{label:"الإسم التجاري",field:"tradeName"},{label:"رقم السجل",field:"commercialNum"},{label:"الإسم الكامل",field:"name"},{label:"رقم الهاتف",field:"phone"},{label:"المدينة / المحافظة",field:"city"}]}}},watch:{selectAll(t){this.selectedRows=t?this.data.map(t=>t.id):[]}},methods:{pagiTransitions(t){"back"==t?this.pagination.offset>0&&(this.pagination.offset=this.pagination.offset-this.$mainStore().offsetNum,this.pagination.page--):"next"==t&&(this.pagination.offset=this.pagination.offset+this.$mainStore().offsetNum,this.pagination.page++),this.getData()},getData(){let t={params:{search:this.search,offset:this.pagination.offset}},e=this.apiUrl;this.$axios.get(e,t).then(t=>{if(!t.data.success)return this.data=[],this.alerts.error=t.data.msg;this.alerts.error=null,this.data=t.data.rows}).catch(()=>{console.log("clients/Error catched")})},deleteRecords(){this.loadingBtn=!0;let t={ids:this.selectedRows};this.$axios.post("/api/v1/clients/path3",t).then(t=>{if(this.loadingBtn=!1,!t.data.success)return this.alerts.error=t.data.msg;this.selectedRows=[],this.selectAll=!1,this.getData()}).catch(t=>console.log("🚀 ~ Delete records",t))}},created(){this.getData()}},Es=Ps,As=Object(o["a"])(Es,js,Ns,!1,null,null,null),Ds=As.exports,Rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-header d-flex justify-content-between flex-wrap"},[t._m(0),s("small",{staticClass:"f-color-1 text-on-hover",on:{click:function(e){return t.$router.go(-1)}}},[t._v("العودة "),s("i",{staticClass:"far fa-long-arrow-alt-left"})])]),1==t.tab?s("ImportFile"):s("form",{staticClass:"form row flex-wrap",on:{submit:function(e){return e.preventDefault(),t.add()}}},[s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("الإسم التجاري"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.tradeName,expression:"form.tradeName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل الإسم التجاري",required:""},domProps:{value:t.form.tradeName},on:{input:function(e){e.target.composing||t.$set(t.form,"tradeName",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("رقم السجل"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.commercialNum,expression:"form.commercialNum"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل رقم السجل",required:""},domProps:{value:t.form.commercialNum},on:{input:function(e){e.target.composing||t.$set(t.form,"commercialNum",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("الإسم الكامل"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل الإسم الكامل",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("رقم الهاتف"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل رقم الهاتف",required:""},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[s("label",[t._v("المدينة / المحافظة"),s("span",{staticClass:"asterisk"},[t._v("*")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"form-control",attrs:{list:"cities",type:"text",placeholder:"أدخل المدينة / المحافظة",required:""},domProps:{value:t.form.city},on:{input:function(e){e.target.composing||t.$set(t.form,"city",e.target.value)}}}),s("datalist",{attrs:{id:"cities"}},t._l(t.$assetsStore().cities,(function(t){return s("option",{key:t.id,domProps:{value:t.city}})})),0)]),s("div",{staticClass:"mt-5 d-flex justify-content-between flex-wrap"},[s("div",{staticClass:"col-12 col-md mb-2 text-center text-md-end"},[s("ImportSwitch",{on:{switchToImport:function(e){t.tab=1}}})],1),s("div",{staticClass:"col-12 col-md text-center text-md-start"},[s("small",{staticClass:"f-color-3_1 px-4"},[t._v("هل تود إضافة المحل الجديد؟")]),s("button",{staticClass:"mt-2 mt-md-0 main-click with-100px f-color-0 border-0 py-2 px-3 rounded ",attrs:{disabled:t.loadingBtn,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("إضافة المحل")])])])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])])],1)},Bs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"section-title"},[t._v("إضافة محل")]),s("p",{staticClass:"section-desc"},[t._v("بإمكانك هنا إضافة و تسجيل المحل الجديد.")])])}],Os={components:{ImportFile:is,ImportSwitch:ms},data(){return{alerts:{success:"",error:""},loadingBtn:!1,tab:0,form:{name:"",tradeName:"",commercialNum:"",city:"",phone:""}}},created(){this.$assetsStore().cities.length||this.$assetsStore().selectCities()},methods:{add(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0;let t=this.form,e="/api/v1/clients/path0";this.$axios.post(e,t).then(t=>{if(!t.data.success)return this.loadingBtn=!1,this.alerts.error=t.data.msg;this.alerts.success=t.data.msg;const e=this.$assetsStore().cities.find(t=>t.city==this.form.city);e||this.$assetsStore().cities.push({city:this.form.city}),this.form.name="",this.form.tradeName="",this.form.commercialNum="",this.form.city="",this.form.phone="",this.loadingBtn=!1}).catch(()=>{console.log("New Client! : Error catched"),this.loadingBtn=!1})}}},Is=Os,qs=Object(o["a"])(Is,Rs,Bs,!1,null,null,null),Ts=qs.exports,Us=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-header d-flex justify-content-between flex-wrap"},[t._m(0),s("small",{staticClass:"f-color-1 text-on-hover",on:{click:function(e){return t.$router.go(-1)}}},[t._v("العودة "),s("i",{staticClass:"far fa-long-arrow-alt-left"})])]),s("form",{staticClass:"form row flex-wrap",on:{submit:function(e){return e.preventDefault(),t.update()}}},[s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.tradeName,expression:"form.tradeName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل الإسم التجاري",required:""},domProps:{value:t.form.tradeName},on:{input:function(e){e.target.composing||t.$set(t.form,"tradeName",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(2),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.commercialNum,expression:"form.commercialNum"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل رقم السجل",required:""},domProps:{value:t.form.commercialNum},on:{input:function(e){e.target.composing||t.$set(t.form,"commercialNum",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل الإسم الكامل",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل رقم الهاتف",required:""},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(5),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل المدينة / المحافظة",required:""},domProps:{value:t.form.city},on:{input:function(e){e.target.composing||t.$set(t.form,"city",e.target.value)}}})]),s("div",{staticClass:"mt-4 col-12 col-md-6 col-lg-4"},[t._m(6),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.addressId,expression:"form.addressId"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"addressId",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"2"}},[t._v("حدد العنوان")]),t._l(t.$assetsStore().cities,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.address))])}))],2)]),s("div",{staticClass:"mt-5 d-flex justify-content-end"},[s("div",{staticClass:"text-center"},[s("small",{staticClass:"f-color-3_1 px-4"},[t._v("هل تود تحديث المحل؟")]),s("button",{staticClass:"mt-2 mt-md-0 main-click with-100px f-color-0 border-0 py-2 px-3 rounded ",attrs:{disabled:t.loadingBtn,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("تحديث المحل")])])])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])])])},Ms=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"section-title"},[t._v("تعديل المحل")]),s("p",{staticClass:"section-desc"},[t._v("بإمكانك هنا تعديل بيانات المحل.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("الإسم التجاري"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("رقم السجل"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("الإسم الكامل"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("رقم الهاتف"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("المدينة / المحافظة"),s("span",{staticClass:"asterisk"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("العنوان"),s("span",{staticClass:"asterisk"},[t._v("*")])])}],Fs={data(){return{alerts:{success:"",error:""},loadingBtn:!1,form:this.$clientStore().data}},created(){this.$assetsStore().cities.length||this.$assetsStore().selectCities()},methods:{update(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0;let t=this.form,e="/api/v1/clients/path5/"+this.$route.params.id;this.$axios.post(e,t).then(t=>{if(this.loadingBtn=!1,!t.data.success)return this.alerts.error=t.data.msg;this.alerts.success=t.data.msg}).catch(()=>{console.log("Client! : Error catched"),this.loadingBtn=!1})}}},Ys=Fs,Qs=Object(o["a"])(Ys,Us,Ms,!1,null,null,null),zs=Qs.exports,Hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-5 p-lg-2",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticClass:"b-color-0 box-shadow-style mt-0 mt-lg-4 px-3 py-5 px-md-4"},[s("router-view")],1)])},Ls=[],Vs={},Ws=Object(o["a"])(Vs,Hs,Ls,!1,null,null,null),Gs=Ws.exports,Js=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ProductStatus")},Ks=[],Xs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-header d-flex justify-content-between flex-wrap"},[t._m(0),s("small",{staticClass:"f-color-1 text-on-hover",on:{click:function(e){return t.$router.go(-1)}}},[t._v("العودة "),s("i",{staticClass:"far fa-long-arrow-alt-left"})])]),s("form",{staticClass:"form mt-5 d-flex flex-column align-items-center",on:{submit:function(e){return e.preventDefault(),t.add()}}},[s("div",{staticClass:"mt-5 col-12 col-md-6 col-lg-4"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],staticClass:"form-control",attrs:{type:"text",placeholder:"أدخل إسم الحالة",required:""},domProps:{value:t.form.status},on:{input:function(e){e.target.composing||t.$set(t.form,"status",e.target.value)}}})]),s("div",{staticClass:"mt-3 col-12 col-md-6 col-lg-4"},[s("button",{staticClass:"mt-2 mt-md-0 main-click w-100 f-color-0 border-0 py-2 px-3 rounded ",attrs:{disabled:t.loadingBtn,type:"submit"}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("حفظ الحالة")])])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])]),t.$assetsStore().productStatus.length?s("div",{staticClass:"mt-5"},[s("span",{staticClass:"f-color-2 fw-bold text-decoration-underline"},[t._v("قائمة الحالات: ")]),s("div",{staticClass:"d-flex justify-content-center"},[s("div",{staticClass:"col-12 col-md-6 col-lg-4"},t._l(t.$assetsStore().productStatus,(function(e){return s("div",{key:e.id,staticClass:"list-element mt-3 rounded px-4 py-3 f-color-2  d-flex justify-content-between align-items-center"},[s("span",[t._v(t._s(e.status))]),s("span",{staticClass:"list-delete",on:{click:function(s){return t.deleteData(e.id)}}},[s("i",{staticClass:"fal fa-times"})])])})),0)])]):t._e()])},Zs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"section-title"},[t._v("إضافة حالة جديدة")]),s("p",{staticClass:"section-desc"},[t._v("بإمكانك هنا إضافة حالات جديدة للمنتجات.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",[t._v("إسم الحالة"),s("span",{staticClass:"asterisk"},[t._v("*")])])}],ta={data(){return{alerts:{success:"",error:""},loadingBtn:!1,form:{status:""},data:[{id:1,status:"عدد"},{id:2,status:"وحدة"},{id:3,status:"كمية"}]}},created(){this.$assetsStore().productStatus.length||this.$assetsStore().selectProductStatus()},methods:{deleteData(t){if(this.alerts.error=null,this.alerts.success=null,window.confirm("هل أنت متأكد من حذف هذه الحالة؟")){const e={ids:[t]},s="/api/v1/products/path12";this.$axios.post(s,e).then(e=>{if(!e.data.success)return this.alerts.error=e.data.msg;this.alerts.success=e.data.msg,this.$assetsStore().productStatus=this.$assetsStore().productStatus.filter(e=>e.id!=t)}).catch(()=>{console.log("Delete Account/Error catched")})}},add(){this.alerts.success="",this.alerts.error="",this.loadingBtn=!0;let t=this.form,e="/api/v1/products/path10";this.$axios.post(e,t).then(t=>{const e=t.data;if(this.loadingBtn=!1,!e.success)return this.alerts.error=e.msg;this.alerts.success=e.msg,e.insertedData&&this.$assetsStore().productStatus.push(e.insertedData),this.form.status=""}).catch(()=>{console.log("New Status! : Error catched"),this.loadingBtn=!1})}}},ea=ta,sa=(s("356c"),Object(o["a"])(ea,Xs,Zs,!1,null,null,null)),aa=sa.exports,la={components:{ProductStatus:aa}},ia=la,ra=Object(o["a"])(ia,Js,Ks,!1,null,null,null),oa=ra.exports,ca=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section-header d-flex justify-content-between flex-wrap"},[t._m(0),s("small",{staticClass:"f-color-1 text-on-hover",on:{click:function(e){return t.$router.go(-1)}}},[t._v("العودة "),s("i",{staticClass:"far fa-long-arrow-alt-left"})])]),s("div",{staticClass:"information"},[s("div",{staticClass:"info-page"},[s("div",{staticClass:"mt-5"},["client"==t.infoType?s("ClientInformation"):"user"==t.infoType?s("UserInformation"):s("ItemInfo")],1)]),"admin"==t.$accountStore().data.userType?s("div",[s("hr",{staticClass:"my-2 opacity-0"}),s("div",{staticClass:"mt-5"},[s("div",{staticClass:"d-flex justify-content-md-end flex-wrap mt-3 mt-md-0"},[s("span",{staticClass:"mx-3 mt-2 mt-md-0 fw-bold f-color-1 opacity-75 opacity-100-on-hover"},[s("i",{staticClass:"fas fa-file-edit"}),"client"==t.infoType?s("router-link",{staticClass:"f-color-1",attrs:{to:{name:"EditClient",params:{id:t.$route.params.id}}}},[t._v(" تعديل")]):"user"==t.infoType?s("router-link",{staticClass:"f-color-1",attrs:{to:{name:"EditUser",params:{id:t.$route.params.id}}}},[t._v(" تعديل")]):s("router-link",{staticClass:"f-color-1",attrs:{to:{name:"EditItem",params:{id:t.$route.params.id}}}},[t._v(" تعديل")])],1),s("span",{staticClass:"mx-3 mt-2 mt-md-0 fw-bold opacity-75 opacity-100-on-hover",staticStyle:{color:"#ff6d6d"},on:{click:function(e){return t.deleteData()}}},[s("i",{staticClass:"fad fa-user-slash"}),t._v(" حذف الحساب")])])]),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])]):t._e()])])},na=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"section-title"},[t._v("تفاصيل الحساب")]),s("p",{staticClass:"section-desc"},[t._v("يمكنك هنا معاينة جميع بيانات هذا الحساب.")])])}],da=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row flex-wrap"},[s("div",{staticClass:"mt-3 col-12"},[s("div",{staticClass:"p-2 fw-bold f-color-1 b-color-1_1 radius d-inline"},[s("small",{staticClass:"px-2"},[t._v("رقم الحساب")]),s("span",{staticClass:"px-2"},[t._v(t._s(t.$userStore().data.id))])])]),t._l(t.fields,(function(e){return s("div",{key:e.id,staticClass:"mt-3 col-12 col-md-6 col-lg-4"},[s("small",{staticClass:"info-title"},[t._v(t._s(e.label))]),s("span",{staticClass:"info-content"},[t._v(t._s(t.$userStore().data[e.valueOf]))])])}))],2)])},ma=[],ua={data(){return{fields:[{label:"الإسم الأول: ",valueOf:"firstName"},{label:"إسم الأب: ",valueOf:"parentName"},{label:"إسم الجد: ",valueOf:"grandFather"},{label:"إسم العائلة: ",valueOf:"famillyName"},{label:"إسم المستخدم: ",valueOf:"username"},{label:"رقم الجوال: ",valueOf:"phone"},{label:"رقم الهوية: ",valueOf:"civil"},{label:"البريد الإلكتروني: ",valueOf:"email"}]}}},pa=ua,fa=Object(o["a"])(pa,da,ma,!1,null,null,null),va=fa.exports,ha=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row flex-wrap"},[s("div",{staticClass:"mt-3 col-12"},[s("div",{staticClass:"p-2 fw-bold f-color-1 b-color-1_1 radius d-inline"},[s("small",{staticClass:"px-2"},[t._v("رقم الحساب")]),s("span",{staticClass:"px-2"},[t._v(t._s(t.$clientStore().data.id))])])]),t._l(t.fields,(function(e){return s("div",{key:e.id,staticClass:"mt-3 col-12 col-md-6 col-lg-4"},[s("small",{staticClass:"info-title"},[t._v(t._s(e.label))]),s("span",{staticClass:"info-content"},[t._v(t._s(t.$clientStore().data[e.valueOf]))])])}))],2)])},ga=[],_a={data(){return{fields:[{label:"الإسم الكامل:",valueOf:"name"},{label:"الإسم التجاري:",valueOf:"tradeName"},{label:"رقم السجل:",valueOf:"commercialNum"},{label:"رقم الهاتف:",valueOf:"phone"},{label:"المدينة / المحافظة:",valueOf:"city"}]}}},Ca=_a,xa=Object(o["a"])(Ca,ha,ga,!1,null,null,null),ba=xa.exports,ya=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row flex-wrap"},[s("div",{staticClass:"mt-3 col-12"},[s("div",{staticClass:"p-2 fw-bold f-color-1 b-color-1_1 radius d-inline"},[s("small",{staticClass:"px-2"},[t._v("رقم الحساب")]),s("span",{staticClass:"px-2"},[t._v(t._s(t.$itemStore().data.id))])])]),t._l(t.fields,(function(e){return s("div",{key:e.id,staticClass:"mt-3 col-12 col-md-6 col-lg-4"},[s("small",{staticClass:"info-title"},[t._v(t._s(e.label))]),s("span",{staticClass:"info-content"},[t._v(t._s(t.$itemStore().data[e.valueOf]))])])}))],2)])},wa=[],$a={data(){return{fields:[{label:"إسم الصنف: ",valueOf:"name"},{label:"الكمية الإجمالية: ",valueOf:"quantity"},{label:"الكمية داخل المستودع: ",valueOf:"restQuantity"},{label:"الوحدة: ",valueOf:"unit"},{label:"سعر الوحدة: ",valueOf:"unitPrice"},{label:"السعر الإجمالي: ",valueOf:"totalPrice"}]}}},ka=$a,Sa=Object(o["a"])(ka,ya,wa,!1,null,null,null),ja=Sa.exports,Na={components:{UserInformation:va,ClientInformation:ba,ItemInfo:ja},data(){return{alerts:{success:"",error:""},loadingBtn:!1,infoType:null}},created(){this.alerts.success="",this.alerts.error="";const t=this.$route.name;this.infoType="ClientAccount"==t?"client":"EmployeeAccount"==t?"user":"item",this.getData()},methods:{getData(){let t;t="client"==this.infoType?"/api/v1/clients/path4/"+this.$route.params.id:"user"==this.infoType?"/api/v1/users/path2/"+this.$route.params.id:"/api/v1/items/path6/"+this.$route.params.id,this.$axios.get(t).then(t=>{if(!t.data.success)return console.log("Failed find this account!");let e=t.data.data[0];"client"==this.infoType?this.$clientStore().data=e:"user"==this.infoType?this.$userStore().data=e:this.$itemStore().data=e}).catch(()=>{console.log("Account detatis/Error catched")})},deleteData(){if(this.alerts.error=null,this.alerts.success=null,window.confirm(`هل أنت متأكد من حذف هذا ${"item"==this.infoType?"الصنف":"الحساب"} ؟`)){let t,e={ids:[this.$route.params.id]};"client"==this.infoType&&(t="/api/v1/clients/path3"),"user"==this.infoType&&(t="/api/v1/users/path2"),"item"==this.infoType&&(t="/api/v1/items/path3"),this.$axios.post(t,e).then(t=>{if(!t.data.success)return this.alerts.error=t.data.msg;this.alerts.success=t.data.msg,this.$router.go(-1)}).catch(()=>{console.log("Delete Account/Error catched")})}}}},Pa=Na,Ea=(s("6023"),Object(o["a"])(Pa,ca,na,!1,null,null,null)),Aa=Ea.exports,Da=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-5 p-lg-2",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticClass:"b-color-0 box-shadow-style mt-0 mt-lg-4 px-3 py-5 px-md-4"},[s("EditUser")],1)])},Ra=[],Ba={components:{EditUser:bs}},Oa=Ba,Ia=Object(o["a"])(Oa,Da,Ra,!1,null,null,null),qa=Ia.exports,Ta=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"d-flex justify-content-between section-header flex-wrap"},[s("div",{staticClass:"col-12 col-md-8"},[s("span",{staticClass:"section-title"},[t._v("سجل العُهد")]),s("p",{staticClass:"section-desc"},[t._v("يمكنك الإطلاع على جميع العهد المسجلة لهذا "+t._s(1==t.group?"الموظف":"المحل"))])]),t.tabs.current&&t.data.length?s("div",[t.showPrintAsk?s("div",[s("small",{staticClass:"px-2 f-color-3_1"},[t._v("هل تود طباعة "+t._s(t.docName)+"؟")]),s("small",{staticClass:"f-color-2 text-on-hover text-decoration-underline cursor-pointer",on:{click:function(e){t.showPrintAsk=!1}}},[t._v("نعم")])]):s("div",[s("div",{staticClass:"col text-align-end"},[t.loadingPdfData?s("span",{staticClass:"f-color-1 spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("button",{ref:"downloadPdf",staticClass:"soft-click with-100px py-2 px-3",attrs:{disabled:t.loadingBtn},on:{click:function(e){return t.generatePDF()}}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("span",[s("i",{staticClass:"fad fa-file-download"}),t._v(" طباعة "+t._s(t.docName))])])])]),s("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!0,"paginate-elements-by-height":1400,filename:t.docName,"pdf-quality":2,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"800px"},on:{progress:function(e){return t.onProgress(e)}}},[s("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[s("PdfDoc",{attrs:{id:t.$route.params.id},on:{pdfDataIsReady:function(e){t.loadingPdfData=!1}}})],1)])],1)]):t._e()]),s("div",{staticClass:"mt-5 col-12 col-md"},[s("ul",{staticClass:"list-unstyled m-0 d-flex f-color-3_3"},[s("li",{class:[t.tabs.previous?"f-color-1 active-section-tab":"","section-tab"],on:{click:function(e){t.tabs.current=!1,t.tabs.previous=!0,t.getData(),t.selectedRows=[]}}},[t._v("السابقة"),t.tabs.previous?s("hr",{staticClass:"tab-hr mt-1"}):t._e()]),s("li",{class:[t.tabs.current?"f-color-1 active-section-tab":"","mx-5 section-tab"],on:{click:function(e){t.tabs.current=!0,t.tabs.previous=!1,t.getData(),t.selectedRows=[]}}},[t._v("الحالية"),t.tabs.current?s("hr",{staticClass:"tab-hr mt-1"}):t._e()])])]),s("div",{staticClass:"mt-4 d-flex flex-wrap align-items-center justify-content-md-between"},[t.selectedRows.length&&"employee"!=t.$accountStore().data.userType?s("div",{staticClass:"table-action col-12 col-md-3"},[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("small",{on:{click:function(e){return t.returnBackProducts()}}},[t._v("إستعادة "+t._s(t.selectedRows.length)+" منتج الى المستودع؟")])]):t._e(),s("div",{staticClass:"mt-4 d-flex justify-content-md-end flex-wrap col-12 col-md"},[s("div",{staticClass:"mt-4 mt-md-0 col-12 col-md-4"},[s("div",{staticClass:"d-flex position-relative align-items-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"بحث..."},domProps:{value:t.search},on:{keyup:function(e){return t.getData()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._m(0)])])])]),s("ProductQrCode"),s("button",{ref:"openBarcodeModal",attrs:{hidden:"","data-bs-toggle":"modal","data-bs-target":"#makeBarcode"}}),s("div",{staticClass:"mt-4 b-color-0 box-shadow-style px-md-2 py-3",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticStyle:{"min-width":"62em"}},[s("div",{staticClass:"px-2 table-colums mb-4"},["employee"!=t.$accountStore().data.userType?s("small",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{change:function(e){var s=t.selectAll,a=e.target,l=!!a.checked;if(Array.isArray(s)){var i=null,r=t._i(s,i);a.checked?r<0&&(t.selectAll=s.concat([i])):r>-1&&(t.selectAll=s.slice(0,r).concat(s.slice(r+1)))}else t.selectAll=l}}})]):t._e(),1==t.group?s("small",{staticClass:"col-2"},[t._v("رقم الموظف")]):s("small",{staticClass:"col-2"},[t._v("رقم المحل")]),s("small",{staticClass:"col-3"},[t._v("رقم المنتج")]),s("small",{staticClass:"col-2"},[t._v("إستلم بتاريخ")]),t.tabs.current?t._e():s("small",{staticClass:"col-2"},[t._v("إسترجع بتاريخ")]),s("small",{staticClass:"col"},[t._v("الرمز")])]),t._l(t.data,(function(e){return s("div",{key:e.id,staticClass:"table-row py-3"},[s("div",{staticClass:"px-2 d-flex f-color-3"},["employee"!=t.$accountStore().data.userType?s("span",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedRows,expression:"selectedRows"}],attrs:{type:"checkbox"},domProps:{value:e.productId,checked:Array.isArray(t.selectedRows)?t._i(t.selectedRows,e.productId)>-1:t.selectedRows},on:{change:function(s){var a=t.selectedRows,l=s.target,i=!!l.checked;if(Array.isArray(a)){var r=e.productId,o=t._i(a,r);l.checked?o<0&&(t.selectedRows=a.concat([r])):o>-1&&(t.selectedRows=a.slice(0,o).concat(a.slice(o+1)))}else t.selectedRows=i}}})]):t._e(),1==t.group?s("router-link",{staticClass:"col-2 f-color-1 text-on-hover",attrs:{to:{name:"EmployeeAccount",params:{id:e.employeeId}}}},[t._v(t._s(e.employeeId))]):s("router-link",{staticClass:"col-2 f-color-1 text-on-hover",attrs:{to:{name:"ClientAccount",params:{id:e.clientId}}}},[t._v(t._s(e.clientId))]),s("span",{staticClass:"col-3"},[t._v(t._s(e.productId)+" "),s("small",[t._v("("+t._s(e.itemName)+")")])]),s("span",{staticClass:"col-2"},[t._v(t._s(t.$assetsStore().moment(e.receiptDate).format("YYYY-MM-DD")))]),t.tabs.current?t._e():s("span",{staticClass:"col-2"},[t._v(t._s(e.returnDate?t.$assetsStore().moment(e.returnDate).format("YYYY-MM-DD"):"/"))]),s("span",{staticClass:"col color-1 text-on-hover",on:{click:function(s){t.$qrCodeStore().selectQrCode(e.productId,e),t.$refs.openBarcodeModal.click()}}},[s("i",{staticClass:"fal fa-barcode-scan"})])],1)])})),s("div",{staticClass:"mt-4"},[t.alerts.success?s("div",{staticClass:"text-start text-md-center alert text-center alert-success"},[t._v(t._s(t.alerts.success))]):t.alerts.error?s("div",{staticClass:"text-start text-md-center alert text-center alert-warning"},[t._v(t._s(t.alerts.error))]):t._e()])],2)]),s("div",{staticClass:"mt-4 pagination d-flex align-items-center"},[s("div",{staticClass:"icon",on:{click:function(e){return t.pagiTransitions("back")}}},[s("i",{staticClass:"fas fa-long-arrow-alt-right"})]),s("div",{staticClass:"page-num mx-3"},[s("small",[t._v(t._s(t.pagination.page))])]),s("div",{class:["icon",t.data.length<t.$mainStore().offsetNum?"prevent-next-pagination":""],on:{click:function(e){!(t.data.length<t.$mainStore().offsetNum)&&t.pagiTransitions("next")}}},[s("i",{staticClass:"fas fa-long-arrow-alt-left"})])]),t.data.length?s("ExportData",{staticClass:"mt-3 mt-md-0 text-center text-md-start",attrs:{dataUrl:t.apiUrl,columns:t.excelColumns,fileName:t.excel.fileName}}):t._e()],1)},Ua=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-icon rounded px-3 py-1"},[s("small",[s("i",{staticClass:"fas fa-search"})])])}],Ma={components:{ProductQrCode:se,PdfDoc:Yt,VueHtml2pdf:at["a"]},data(){return{apiUrl:null,loadingBtn:!1,loadingPdfData:!0,group:null,tabs:{current:!0,previous:!1},data:[],selectAll:!1,selectedRows:[],alerts:{success:null,error:null},pagination:{page:1,offset:0},search:"",docName:"",showPrintAsk:!0,excel:{fileName:"سجل العُهد",columns:[{label:"#",field:"id"},{label:"رقم الموظف",field:"employeeId"},{label:"إسم الموظف",field:"employeeName"},{label:"الإسم التجاري",field:"tradeName"},{label:"رقم المحل",field:"clientId"},{label:"رقم المنتج",field:"productId"},{label:"صنف المنتج",field:"itemName"},{label:"إستلم بتاريخ",field:"receiptDate",dataFormat:this.dateFormat},{label:"إسترجع بتاريخ",field:"returnDate",dataFormat:this.dateFormat}]}}},computed:{excelColumns(){return 2==this.group?this.excel.columns.filter(t=>"employeeName"!=t.field&&"employeeId"!=t.field):1==this.group?this.excel.columns.filter(t=>"tradeName"!=t.field&&"clientId"!=t.field):this.excel.columns}},watch:{selectAll(t){this.selectedRows=t?this.data.map(t=>t.productId):[]}},methods:{pagiTransitions(t){"back"==t?this.pagination.offset>0&&(this.pagination.offset=this.pagination.offset-this.$mainStore().offsetNum,this.pagination.page--):"next"==t&&(this.pagination.offset=this.pagination.offset+this.$mainStore().offsetNum,this.pagination.page++),this.getData()},dateFormat(t){return t?this.$assetsStore().moment(t).format("YYYY-MM-DD"):"/"},getData(){let t={params:{group:this.group,previous:this.tabs.previous,search:this.search,offset:this.pagination.offset}},e="/api/v1/products/path1/"+this.$route.params.id;this.$axios.get(e,t).then(t=>{if(this.selectAll=!1,!t.data.success)return this.data=[],this.alerts.error=t.data.msg;this.alerts.error=null,this.data=t.data.rows}).catch(()=>{console.log("transactions/Error catched")})},returnBackProducts(){this.loadingBtn=!0;const t=this.selectedRows.map(t=>{const e=this.data.find(e=>e.productId==t);return{productId:t,itemId:e.itemId}});this.$axios.post("/api/v1/products/path2",t).then(t=>{if(this.loadingBtn=!1,!t.data.success)return console.log(t.data.msg);this.selectedRows=[],this.getData()}).catch(t=>console.log("🚀 ~ Transactions return back the products",t))},onProgress(t){console.log(`Processed: ${t} / 100`),100==t&&(this.loadingBtn=!1)},hasGenerated(){alert("PDF generated successfully!")},generatePDF(){this.loadingBtn=!0,this.$refs.html2Pdf.generatePdf()}},created(){"ClientsTransactions"==this.$route.name?(this.group=2,this.docName="الإتفاقية"):(this.group=1,this.docName="العُهدة"),this.apiUrl=`/api/v1/products/path8/${this.$route.params.id}?group=${this.group}`,this.getData()}},Fa=Ma,Ya=Object(o["a"])(Fa,Ta,Ua,!1,null,null,null),Qa=Ya.exports,za=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-5 p-lg-2",staticStyle:{overflow:"hidden","overflow-x":"auto"}},[s("div",{staticClass:"b-color-0 box-shadow-style mt-0 mt-lg-4 px-3 py-5 px-md-4"},[s("router-view")],1)])},Ha=[],La={},Va=Object(o["a"])(La,za,Ha,!1,null,null,null),Wa=Va.exports;l["default"].use(m["a"]);const Ga=[{path:"/",name:"Index",component:V,redirect:{name:"Items"},children:[{path:"/items",name:"ItemsMain",component:X,children:[{path:"/items",name:"Items",component:he},{path:"/items/new",name:"AddItem",component:Ne},{path:"/items/delivery",name:"ProductsDelivery",component:Be},{path:"/items/account/:id",name:"ItemInfo",component:Aa},{path:"/items/edit/:id",name:"EditItem",component:Me}]},{path:"/users",name:"EmployeesMain",component:He,children:[{path:"/users",name:"Employees",component:Ke},{path:"/users/new",name:"AddAccount",component:vs},{path:"/users/account/:id",name:"EmployeeAccount",component:Aa},{path:"/users/transactions/:id",name:"EmployeeTransactions",component:Qa},{path:"/users/edit/:id",name:"EditUser",component:bs}]},{path:"/transactions",name:"TransactionsMain",component:Wa,children:[{path:"/transactions/:id",name:"AccountTransactions",component:Qa}]},{path:"/clients",name:"ClientsMain",component:Ss,children:[{path:"/clients",name:"Clients",component:Ds},{path:"/clients/new",name:"AddClient",component:Ts},{path:"/clients/edit/:id",name:"EditClient",component:zs},{path:"/clients/account/:id",name:"ClientAccount",component:Aa},{path:"/clients/transactions/:id",name:"ClientsTransactions",component:Qa}]},{path:"/account/edit/:id",name:"EditMyAccount",component:qa},{path:"/settings",name:"SettingMain",component:Gs,children:[{path:"/settings",name:"Settings",component:oa}]}]}],Ja=new m["a"]({mode:"history",base:"/",routes:Ga});var Ka=Ja,Xa=s("be92"),Za=s("ed09");const tl=Object(Xa["c"])("account",{state:()=>({data:{}})}),el=Object(Xa["c"])("main",{state:()=>({authentificated:!1,authorized:!1,loading:!0,offsetNum:10}),actions:{checkAuth(){a["a"].defaults.headers.common["Authorization"]=localStorage.getItem("nadaAtamayuzToken"),a["a"].get("/auth/v1/path0").then(t=>{t.data.data.length&&(tl().data=t.data.data[0],localStorage.setItem("nadaAtamayuzToken",t.data.token),this.authentificated=!0)}).catch(t=>{console.log(t)}).finally(()=>{this.loading=!1})}}}),sl=Object(Xa["c"])("item",{state:()=>({data:{}})});var al=s("c1df"),ll=s.n(al);const il=Object(Xa["c"])("assets",{state:()=>({employees:[],clients:[],items:[],unites:[],cities:[],productStatus:[]}),actions:{moment(t){return ll()(t)},selectEmployees(){a["a"].get("/api/v1/employees/path2").then(t=>{t.data.success&&(this.employees=t.data.rows)}).catch(t=>{console.log(t)})},selectClients(){a["a"].get("/api/v1/clients/path2").then(t=>{t.data.success&&(this.clients=t.data.rows)}).catch(t=>{console.log(t)})},selectItems(){a["a"].get("/api/v1/items/path2").then(t=>{t.data.success&&(this.items=t.data.rows)}).catch(t=>{console.log(t)})},selectUnits(){a["a"].get("/api/v1/items/path5").then(t=>{t.data.success&&(this.unites=t.data.rows)}).catch(t=>{console.log(t)})},selectCities(){a["a"].get("/api/v1/clients/path6").then(t=>{t.data.success&&(this.cities=t.data.rows)}).catch(t=>{console.log(t)})},selectProductStatus(){a["a"].get("/api/v1/products/path11").then(t=>{t.data.success&&(this.productStatus=t.data.rows)}).catch(t=>{console.log(t)})}}}),rl=Object(Xa["c"])("user",{state:()=>({data:{}})}),ol=Object(Xa["c"])("client",{state:()=>({data:{}})}),cl=Object(Xa["c"])("qrCode",{state:()=>({value:"default",itemName:"سيارة ايسوزو دينا ثلاجة 2023",recipient:"سيارة ايسوزو دينا ثلاجة 2023",receiptDate:"2023-02-23"}),actions:{selectQrCode(t,e){this.value=t,this.itemName=null===e||void 0===e?void 0:e.itemName,this.recipient=(null===e||void 0===e?void 0:e.employeeName)||(null===e||void 0===e?void 0:e.tradeName),this.receiptDate=il().moment(null===e||void 0===e?void 0:e.receiptDate).format("YYYY-MM-DD")}}});var nl=s("3dc6"),dl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"admin"==t.$accountStore().data.userType?s("div",[s("small",{staticClass:"f-color-3 px-2"},[t._v("تصدير البيانات؟ ")]),t.exportYes?s("div",{staticClass:"d-inline-block"},[s("button",{staticClass:"soft-click px-3 mt-2 mt-md-0 ",attrs:{disabled:t.loadingBtn},on:{click:function(e){return t.getData()}}},[s("div",[t.loadingBtn?s("span",{staticClass:"spinner-grow spinner-grow-sm mx-2",attrs:{role:"status","aria-hidden":"true"}}):s("small",[s("i",{staticClass:"fad fa-download px-2"}),t._v(" تصدير")])])]),s("vue-excel-xlsx",{staticClass:"d-none",attrs:{id:"excelDownload",data:t.data,columns:t.columns,fileName:t.fileName,fileType:"xlsx",sheetName:"sheetname"}})],1):s("small",{staticClass:"f-color-2 text-on-hover text-decoration-underline",on:{click:function(e){t.exportYes=!0}}},[t._v("نعم")])]):t._e()},ml=[],ul={props:["dataUrl","columns","fileName"],data(){return{loadingBtn:!1,exportYes:!1,data:[]}},methods:{getData(){this.loadingBtn=!0;let t={params:{limtLess:!0}},e=this.dataUrl;this.$axios.get(e,t).then(t=>{if(!t.data.success)return console.log("Export data ",t.data.msg),this.data=[];this.data=t.data.rows}).then(()=>{document.getElementById("excelDownload").click(),this.loadingBtn=!1}).catch(()=>{console.log("Excel Data/Error catched")})}}},pl=ul,fl=Object(o["a"])(pl,dl,ml,!1,null,null,null),vl=fl.exports;l["default"].use(Xa["a"]);const hl=Object(Xa["b"])();l["default"].use(Za["default"]),l["default"].use(nl["a"]),l["default"].component("ExportData",vl),l["default"].config.productionTip=!1,l["default"].prototype.$axios=a["a"],l["default"].prototype.$mainStore=el,l["default"].prototype.$itemStore=sl,l["default"].prototype.$assetsStore=il,l["default"].prototype.$userStore=rl,l["default"].prototype.$accountStore=tl,l["default"].prototype.$clientStore=ol,l["default"].prototype.$qrCodeStore=cl,new l["default"]({router:Ka,pinia:hl,render:t=>t(d)}).$mount("#app")},"5d0b":function(t,e,s){"use strict";s("53b6")},6023:function(t,e,s){"use strict";s("3cfc")},"62da":function(t,e,s){},"6c3b":function(t,e,s){"use strict";s("208f")},"6e50":function(t,e,s){"use strict";s("0fc6")},"76d6":function(t,e,s){"use strict";s("eafc")},"784a":function(t,e,s){},"84df":function(t,e,s){"use strict";s("8916")},8916:function(t,e,s){},9519:function(t,e,s){},a0d2:function(t,e,s){},bb52:function(t,e,s){t.exports=s.p+"img/seal.2662d2c6.png"},ce43:function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.9c09ab94.png"},d662:function(t,e,s){"use strict";s("ce43")},d92d:function(t,e,s){"use strict";s("19b4")},eafc:function(t,e,s){},f30a:function(t,e,s){t.exports=s.p+"img/header.8fd0f734.png"}});